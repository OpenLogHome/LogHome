exports.ids = [9];
exports.modules = {

/***/ 112:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMToxMDoyNSAxODoxMToyNknx73wAAACkSURBVGhD7daLCcMgFIVhmzGcyTkcyjmcyTVaKgaiWFLKtRzk/yCYBxIuJ17jAAAAIOPRxmVSSs92WsUYl73zaOMW/p7MyDKprZKhGFV0M1V0M1UUo4pupopiVJl9v3f7yR2LtUQyM2cy3vt6/a1SSh1JZkAxqihGlXk3G7tSzrnbf0II3fNP835BMjPsM8aWF/NeI9ej3V6CNTPDXzMAYG/OvQClOznLoM6LkQAAAABJRU5ErkJggg=="

/***/ }),

/***/ 116:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMToxMDoyNSAxODoxMToyNknx73wAAACLSURBVFhH7dSBCYAgEIVhawxncg6Hcg5nco1CMahANBUy+z+IK4M4jtcJAAAwtSXWYsaYLd52obUu6mGNdXjVE5VShudazrlQp5sojfbWnFGl1OUb1trLVki9J6Nv+09G73KZPZDRHD/J+zS91PlT/Ey9/bdRvxXOVzxu9pmJVu/RXqbbowAAjESIHegNN+wSNyQsAAAAAElFTkSuQmCC"

/***/ }),

/***/ 117:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(150);
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(6).default
module.exports.__inject__ = function (context) {
  add("52869cb6", content, true, context)
};

/***/ }),

/***/ 118:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(152);
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(6).default
module.exports.__inject__ = function (context) {
  add("48ef868d", content, true, context)
};

/***/ }),

/***/ 149:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_SlideVerify_vue_vue_type_style_index_0_id_46b3df03_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(117);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_SlideVerify_vue_vue_type_style_index_0_id_46b3df03_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_SlideVerify_vue_vue_type_style_index_0_id_46b3df03_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_SlideVerify_vue_vue_type_style_index_0_id_46b3df03_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_SlideVerify_vue_vue_type_style_index_0_id_46b3df03_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ 150:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(5);
var ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);
// Module
___CSS_LOADER_EXPORT___.push([module.i, "\n.slide-verify[data-v-46b3df03] {\r\n  position: relative;\r\n  margin: 0 auto;\r\n  user-select: none;\r\n  padding: 15px;\r\n  background-color: #f5f5f5;\r\n  border-radius: 4px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n.verify-status[data-v-46b3df03] {\r\n  text-align: center;\r\n  margin-top: 10px;\r\n  color: #947358;\r\n  font-size: 14px;\n}\n.verify-status.success[data-v-46b3df03] {\r\n  color: #67c23a;\n}\r\n\r\n/* 自定义 Element UI 滑块样式 */\n.slide-verify[data-v-46b3df03] .el-slider__runway {\r\n  height: 40px;\r\n  margin: 0;\r\n  background-color: #e4e7eb;\r\n  border-radius: 4px;\n}\n.slide-verify[data-v-46b3df03] .el-slider__bar {\r\n  height: 40px;\r\n  background-color: #d1e9fe;\r\n  border-radius: 4px;\n}\n.slide-verify[data-v-46b3df03] .el-slider__button-wrapper {\r\n  top: 0;\r\n  width: 40px;\r\n  height: 40px;\n}\n.slide-verify[data-v-46b3df03] .el-slider__button {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 1px solid #e4e7eb;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  background-color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\n}\n.slide-verify[data-v-46b3df03] .el-slider__button::after {\r\n  content: '>';\r\n  color: #947358;\r\n  font-size: 20px;\n}\n.slide-verify.success[data-v-46b3df03] .el-slider__button::after {\r\n  content: 'OK';\r\n  color: #67c23a;\n}\r\n", ""]);
// Exports
module.exports = ___CSS_LOADER_EXPORT___;


/***/ }),

/***/ 151:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_22560504_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(118);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_22560504_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_22560504_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_22560504_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_3_oneOf_1_2_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_22560504_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ 152:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(5);
var ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);
// Module
___CSS_LOADER_EXPORT___.push([module.i, "\n.login-container[data-v-22560504] {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 80vh;\r\n  padding: 20px;\n}\n.login-box[data-v-22560504] {\r\n  width: 460px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 40px;\r\n  position: relative;\r\n  overflow: hidden; /* 防止内容溢出 */\n}\n.login-header[data-v-22560504] {\r\n  text-align: center;\r\n  margin-bottom: 30px;\n}\n.login-header h1[data-v-22560504] {\r\n  color: #947358;\r\n  font-size: 32px;\r\n  margin-bottom: 10px;\n}\n.login-header p[data-v-22560504] {\r\n  color: #666;\r\n  font-size: 16px;\n}\n.login-step[data-v-22560504] {\r\n  height: 280px;\r\n  position: absolute;\r\n  width: calc(100% - 80px); /* 减去左右padding */\r\n  transition: opacity 0.3s, transform 0.3s;\n}\n.step-tip[data-v-22560504] {\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n  font-size: 16px;\n}\n.input-group[data-v-22560504] {\r\n  display: flex;\r\n  align-items: center;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  background-color: #f5f5f5;\r\n  margin-bottom: 20px;\r\n  height: 50px;\n}\n.input-icon[data-v-22560504] {\r\n  width: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\n}\n.icon[data-v-22560504] {\r\n  width: 35px;\r\n  height: 35px;\n}\n.login-input[data-v-22560504] {\r\n  flex: 1;\r\n  height: 48px;\r\n  border: none;\r\n  background-color: #f5f5f5;\r\n  padding: 0 15px;\r\n  font-size: 16px;\n}\n.login-input[data-v-22560504]:focus {\r\n  outline: none;\n}\n.warning-text[data-v-22560504] {\r\n  color: #ff5500;\r\n  font-size: 14px;\r\n  text-align: right;\r\n  margin-top: -15px;\r\n  margin-bottom: 15px;\n}\n.login-btn[data-v-22560504] {\r\n  width: 100%;\r\n  height: 50px;\r\n  background-color: #947358;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  margin-bottom: 15px;\r\n  transition: background-color 0.3s;\n}\n.login-btn[data-v-22560504]:hover {\r\n  background-color: #826347;\n}\n.cancel-btn[data-v-22560504] {\r\n  background-color: white;\r\n  color: #947358;\r\n  border: 1px solid #947358;\n}\n.cancel-btn[data-v-22560504]:hover {\r\n  background-color: #f9f9f9;\n}\n.verify-container[data-v-22560504] {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 30px 0;\n}\n.slide-verify-placeholder[data-v-22560504] {\r\n  width: 100%;\r\n  height: 155px;\r\n  background-color: #f0f0f0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 4px;\r\n  color: #999;\n}\n.verify-info[data-v-22560504] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n  color: #333;\n}\n.resend-btn[data-v-22560504] {\r\n  color: #947358;\r\n  cursor: pointer;\n}\n.wait-timer[data-v-22560504] {\r\n  color: #999;\n}\n.login-footer[data-v-22560504] {\r\n  text-align: center;\r\n  margin-top: 320px; /* 增加底部空间，确保有足够空间容纳步骤div */\r\n  color: #999;\r\n  font-size: 14px;\n}\r\n\r\n/* 过渡动画 */\n.fade-enter-active[data-v-22560504], .fade-leave-active[data-v-22560504] {\r\n  transition: all 0.3s;\r\n  position: absolute;\r\n  width: calc(100% - 80px);\n}\n.fade-enter[data-v-22560504] {\r\n  transform: translateX(20px);\r\n  opacity: 0;\n}\n.fade-leave-to[data-v-22560504] {\r\n  transform: translateX(-20px);\r\n  opacity: 0;\n}\r\n", ""]);
// Exports
module.exports = ___CSS_LOADER_EXPORT___;


/***/ }),

/***/ 216:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/vue-loader/lib??vue-loader-options!./pages/login.vue?vue&type=template&id=22560504&scoped=true
var render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "login-container"
  }, [_vm._ssrNode("<div class=\"login-box\" data-v-22560504>", "</div>", [_vm._ssrNode("<div class=\"login-header\" data-v-22560504><img" + _vm._ssrAttr("src", __webpack_require__(55)) + " alt style=\"width: 100px; margin-bottom: 20px;\" data-v-22560504> <h1 data-v-22560504>原木社区</h1> <p data-v-22560504>方块跃然纸上，故事在此生长。</p></div> " + (_vm.step == 0 ? "<div class=\"login-step\" data-v-22560504><p class=\"step-tip\" data-v-22560504>未注册邮箱将自动创建账号</p> <div class=\"input-group\" data-v-22560504><div class=\"input-icon\" data-v-22560504><img" + _vm._ssrAttr("src", __webpack_require__(116)) + " alt=\"用户\" class=\"icon\" data-v-22560504></div> <input type=\"email\" placeholder=\"请输入电子邮箱\"" + _vm._ssrAttr("value", _vm.email) + " class=\"login-input\" data-v-22560504></div> <button class=\"login-btn\" data-v-22560504>下一步</button></div>" : "<!---->") + " "), _c('transition', {
    attrs: {
      "name": "fade"
    }
  }, [_vm.step == 1 ? _c('div', {
    staticClass: "login-step"
  }, [_c('p', {
    staticClass: "step-tip"
  }, [_vm._v("滑动验证以发送验证码到 " + _vm._s(_vm.email))]), _vm._v(" "), _c('div', {
    staticClass: "verify-container"
  }, [_c('slide-verify', {
    attrs: {
      "w": 380,
      "slider-text": "向右滑动完成验证"
    },
    on: {
      "success": _vm.verifyResult
    }
  })], 1), _vm._v(" "), _c('button', {
    staticClass: "login-btn cancel-btn",
    on: {
      "click": function ($event) {
        _vm.step = 0;
      }
    }
  }, [_vm._v("上一步")])]) : _vm._e()]), _vm._ssrNode(" "), _c('transition', {
    attrs: {
      "name": "fade"
    }
  }, [_vm.step == 2 ? _c('div', {
    staticClass: "login-step"
  }, [_c('div', {
    staticClass: "verify-info"
  }, [_c('div', [_c('div', [_vm._v("验证码已发送至：")]), _vm._v(" "), _c('div', [_vm._v(_vm._s(_vm.email))])]), _vm._v(" "), _c('div', [_c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: !_vm.isWaiting,
      expression: "!isWaiting"
    }],
    staticClass: "resend-btn",
    on: {
      "click": _vm.sendCode
    }
  }, [_vm._v("重新发送")]), _vm._v(" "), _c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: _vm.isWaiting,
      expression: "isWaiting"
    }],
    staticClass: "wait-timer"
  }, [_vm._v("等待" + _vm._s(_vm.waitTime) + "秒")])])]), _vm._v(" "), _c('div', {
    staticClass: "input-group"
  }, [_c('div', {
    staticClass: "input-icon"
  }, [_c('img', {
    staticClass: "icon",
    attrs: {
      "src": __webpack_require__(112),
      "alt": "验证码"
    }
  })]), _vm._v(" "), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.verifyCode,
      expression: "verifyCode"
    }],
    staticClass: "login-input",
    attrs: {
      "type": "text",
      "placeholder": "请输入验证码"
    },
    domProps: {
      "value": _vm.verifyCode
    },
    on: {
      "input": function ($event) {
        if ($event.target.composing) return;
        _vm.verifyCode = $event.target.value;
      }
    }
  })]), _vm._v(" "), _c('button', {
    staticClass: "login-btn",
    on: {
      "click": function ($event) {
        return _vm.nextStep();
      }
    }
  }, [_vm._v("下一步")]), _vm._v(" "), _c('button', {
    staticClass: "login-btn cancel-btn",
    on: {
      "click": function ($event) {
        _vm.step = 0;
      }
    }
  }, [_vm._v("上一步")])]) : _vm._e()]), _vm._ssrNode(" "), _c('transition', {
    attrs: {
      "name": "fade"
    }
  }, [_vm.step == 3 ? _c('div', {
    staticClass: "login-step"
  }, [_c('p', {
    staticClass: "step-tip"
  }, [_vm._v("欢迎来到原木社区，请设置你的账号和密码。")]), _vm._v(" "), !_vm.forgetPwd ? _c('div', {
    staticClass: "input-group"
  }, [_c('div', {
    staticClass: "input-icon"
  }, [_c('img', {
    staticClass: "icon",
    attrs: {
      "src": __webpack_require__(116),
      "alt": "用户"
    }
  })]), _vm._v(" "), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.account,
      expression: "account"
    }],
    staticClass: "login-input",
    attrs: {
      "type": "text",
      "placeholder": "请输入账号"
    },
    domProps: {
      "value": _vm.account
    },
    on: {
      "input": [function ($event) {
        if ($event.target.composing) return;
        _vm.account = $event.target.value;
      }, _vm.checkAccount]
    }
  })]) : _vm._e(), _vm._v(" "), _c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: _vm.accountUsed && !_vm.forgetPwd,
      expression: "accountUsed && !forgetPwd"
    }],
    staticClass: "warning-text"
  }, [_vm._v("该账号已被使用")]), _vm._v(" "), _c('div', {
    staticClass: "input-group"
  }, [_c('div', {
    staticClass: "input-icon"
  }, [_c('img', {
    staticClass: "icon",
    attrs: {
      "src": __webpack_require__(112),
      "alt": "密码"
    }
  })]), _vm._v(" "), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.pwd,
      expression: "pwd"
    }],
    staticClass: "login-input",
    attrs: {
      "type": "password",
      "placeholder": "请输入密码"
    },
    domProps: {
      "value": _vm.pwd
    },
    on: {
      "input": function ($event) {
        if ($event.target.composing) return;
        _vm.pwd = $event.target.value;
      }
    }
  })]), _vm._v(" "), _c('button', {
    staticClass: "login-btn",
    on: {
      "click": function ($event) {
        return _vm.nextStep();
      }
    }
  }, [_vm._v("下一步")]), _vm._v(" "), _c('button', {
    staticClass: "login-btn cancel-btn",
    on: {
      "click": function ($event) {
        _vm.step = 0;
      }
    }
  }, [_vm._v("上一步")])]) : _vm._e()]), _vm._ssrNode(" "), _c('transition', {
    attrs: {
      "name": "fade"
    }
  }, [_vm.step == 5 ? _c('div', {
    staticClass: "login-step"
  }, [_c('div', {
    staticClass: "verify-info"
  }, [_c('div', [_c('div', [_vm._v("即将使用以下邮箱登录：")]), _vm._v(" "), _c('div', [_vm._v(_vm._s(_vm.email))])]), _vm._v(" "), _c('div', [_c('span', {
    staticClass: "resend-btn",
    on: {
      "click": function ($event) {
        _vm.forgetPwd = true;
        _vm.step = 1;
      }
    }
  }, [_vm._v("忘记密码")])])]), _vm._v(" "), _c('div', {
    staticClass: "input-group"
  }, [_c('div', {
    staticClass: "input-icon"
  }, [_c('img', {
    staticClass: "icon",
    attrs: {
      "src": __webpack_require__(112),
      "alt": "密码"
    }
  })]), _vm._v(" "), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.pwd,
      expression: "pwd"
    }],
    staticClass: "login-input",
    attrs: {
      "type": "password",
      "placeholder": "请输入密码"
    },
    domProps: {
      "value": _vm.pwd
    },
    on: {
      "input": function ($event) {
        if ($event.target.composing) return;
        _vm.pwd = $event.target.value;
      }
    }
  })]), _vm._v(" "), _c('button', {
    staticClass: "login-btn",
    on: {
      "click": function ($event) {
        return _vm.nextStep();
      }
    }
  }, [_vm._v("登录")]), _vm._v(" "), _c('button', {
    staticClass: "login-btn cancel-btn",
    on: {
      "click": function ($event) {
        _vm.step = 0;
      }
    }
  }, [_vm._v("上一步")])]) : _vm._e()]), _vm._ssrNode(" <div class=\"login-footer\" data-v-22560504><p data-v-22560504>注册即表明同意《原木社区用户隐私政策》</p></div>")], 2)]);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./pages/login.vue?vue&type=template&id=22560504&scoped=true

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/vue-loader/lib??vue-loader-options!./components/SlideVerify.vue?vue&type=template&id=46b3df03&scoped=true
var SlideVerifyvue_type_template_id_46b3df03_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "slide-verify",
    style: {
      width: _vm.w + 'px'
    },
    attrs: {
      "user-select": "none"
    }
  }, [_c('el-slider', {
    attrs: {
      "show-tooltip": false,
      "min": 0,
      "max": 100,
      "disabled": _vm.isSuccess
    },
    on: {
      "change": _vm.handleSliderChange
    },
    model: {
      value: _vm.sliderValue,
      callback: function ($$v) {
        _vm.sliderValue = $$v;
      },
      expression: "sliderValue"
    }
  }), _vm._ssrNode(" <div" + _vm._ssrClass("verify-status", {
    'success': _vm.isSuccess
  }) + " data-v-46b3df03>" + (_vm.isSuccess ? "<i class=\"el-icon-success\" data-v-46b3df03></i>" : "<span data-v-46b3df03>" + _vm._ssrEscape(_vm._s(_vm.sliderText)) + "</span>") + "</div>")], 2);
};
var SlideVerifyvue_type_template_id_46b3df03_scoped_true_staticRenderFns = [];

// CONCATENATED MODULE: ./components/SlideVerify.vue?vue&type=template&id=46b3df03&scoped=true

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./components/SlideVerify.vue?vue&type=script&lang=js
/* harmony default export */ var SlideVerifyvue_type_script_lang_js = ({
  name: 'SlideVerify',
  props: {
    // 容器宽度
    w: {
      type: Number,
      default: 310
    },
    // 滑块文本
    sliderText: {
      type: String,
      default: '向右滑动完成验证'
    }
  },
  data() {
    return {
      sliderValue: 0,
      isSuccess: false
    };
  },
  methods: {
    // 处理滑块变化
    handleSliderChange(value) {
      if (value >= 99) {
        this.isSuccess = true;
        this.$emit('success', true);
      }
    },
    // 重置
    reset() {
      this.sliderValue = 0;
      this.isSuccess = false;
    }
  }
});
// CONCATENATED MODULE: ./components/SlideVerify.vue?vue&type=script&lang=js
 /* harmony default export */ var components_SlideVerifyvue_type_script_lang_js = (SlideVerifyvue_type_script_lang_js); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/SlideVerify.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(149)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_SlideVerifyvue_type_script_lang_js,
  SlideVerifyvue_type_template_id_46b3df03_scoped_true_render,
  SlideVerifyvue_type_template_id_46b3df03_scoped_true_staticRenderFns,
  false,
  injectStyles,
  "46b3df03",
  "b798aae4"
  
)

/* harmony default export */ var SlideVerify = (component.exports);
// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/login.vue?vue&type=script&lang=js

/* harmony default export */ var loginvue_type_script_lang_js = ({
  layout: 'default',
  components: {
    SlideVerify: SlideVerify
  },
  data() {
    return {
      step: 0,
      //0：待输入邮箱 1：新用户注册，滑动验证码 2：填写验证码 3：新用户注册，填写账号和密码 5：老用户登录，填写密码
      account: "",
      email: "",
      pwd: "",
      verifyCode: "",
      verifyState: false,
      isWaiting: false,
      waitTime: 60,
      waitTimer: undefined,
      accountUsed: false,
      registerVerify: "",
      forgetPwd: false
    };
  },
  methods: {
    async checkAccount() {
      try {
        this.accountUsed = await this.$api.users.checkAccount(this.account);
      } catch (error) {
        alert(error.toString());
      }
    },
    verifyResult(res) {
      this.step = 2;
      this.verifyState = true;
      this.sendCode();
    },
    async nextStep() {
      switch (this.step) {
        case 0:
          this.forgetPwd = false;
          // 验证邮箱格式
          const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          if (!emailPattern.test(this.email)) {
            this.$message.error("请输入有效的电子邮箱地址");
            return;
          }
          try {
            const emailExists = await this.$api.users.checkEmail(this.email);
            if (emailExists) {
              this.step = 5;
            } else {
              this.step = 1;
            }
          } catch (error) {
            console.log(error);
          }
          break;
        case 2:
          try {
            const result = await this.$api.users.registerWithEmail(this.email, this.verifyCode);
            if (result.msg == "登录成功") {
              this.registerVerify = result.register_code;
              this.step = 3;
            } else {
              this.$message.error(result.msg);
            }
          } catch (error) {
            this.$message.error(error.toString());
          }
          break;
        case 3:
          this.register();
          break;
        case 5:
          this.login();
          break;
      }
    },
    async sendCode() {
      try {
        const response = await this.$api.users.sendEmailVerifyCode(this.email);
        this.$message.success(response.msg);
        this.waitTime = 60;
        this.isWaiting = true;
        this.waitTimer = setInterval(() => {
          this.waitTime--;
          if (this.waitTime == 0) {
            this.isWaiting = false;
            clearInterval(this.waitTimer);
            this.waitTimer = undefined;
          }
        }, 1000);
      } catch (error) {
        console.log(error);
      }
    },
    async login() {
      try {
        await this.$api.users.login(this.email, this.pwd);
        this.$message.success('登录成功');
        this.$router.push('/');
      } catch (error) {
        console.log(error);
        this.$message.error("账号或密码错误");
        this.pwd = "";
      }
    },
    //校验密码：只能输入6-20个字母、数字、下划线
    isPasswd(s) {
      var patrn = /^(\w){6,20}$/;
      if (!patrn.exec(s)) return false;
      return true;
    },
    async register() {
      if (this.pwd == "") {
        this.$message.error("请输入密码");
        return;
      }
      if (this.isPasswd(this.pwd) != true) {
        this.$message.error("密码格式：6-20位字母、数字、下划线组合");
        return;
      }
      //账号格式4-12位字母数字
      let accountPattern = /^[a-zA-Z0-9]{4,12}$/;
      if (!accountPattern.test(this.account) && !this.forgetPwd) {
        this.$message.error("账号格式：4-12位字母、数字组合");
        return;
      }
      try {
        await this.$api.users.register(this.account, this.pwd, this.email, this.registerVerify);
        this.$message.success('登录成功');
        this.$router.push('/');
      } catch (error) {
        this.$message.error("注册失败");
      }
    }
  }
});
// CONCATENATED MODULE: ./pages/login.vue?vue&type=script&lang=js
 /* harmony default export */ var pages_loginvue_type_script_lang_js = (loginvue_type_script_lang_js); 
// CONCATENATED MODULE: ./pages/login.vue



function login_injectStyles (context) {
  
  var style0 = __webpack_require__(151)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var login_component = Object(componentNormalizer["a" /* default */])(
  pages_loginvue_type_script_lang_js,
  render,
  staticRenderFns,
  false,
  login_injectStyles,
  "22560504",
  "3c3e9e57"
  
)

/* harmony default export */ var login = __webpack_exports__["default"] = (login_component.exports);

/***/ })

};;
//# sourceMappingURL=login.js.map
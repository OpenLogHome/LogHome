(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1:function(e,t,n){"use strict";n.d(t,"k",(function(){return x})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return k})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return O})),n.d(t,"s",(function(){return j})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return R})),n.d(t,"d",(function(){return C})),n.d(t,"r",(function(){return I})),n.d(t,"j",(function(){return $})),n.d(t,"t",(function(){return P})),n.d(t,"o",(function(){return T})),n.d(t,"q",(function(){return N})),n.d(t,"f",(function(){return A})),n.d(t,"c",(function(){return M})),n.d(t,"i",(function(){return D})),n.d(t,"p",(function(){return L})),n.d(t,"a",(function(){return F})),n.d(t,"v",(function(){return X})),n.d(t,"n",(function(){return Y})),n.d(t,"u",(function(){return Q}));n(17),n(41),n(36),n(37);var r=n(11),o=n(0),c=n(9),l=n(5),d=(n(6),n(18),n(174),n(10),n(27),n(52),n(20),n(34),n(35),n(28),n(55),n(107),n(105),n(176),n(53),n(54),n(256),n(61),n(62),n(2)),h=n(32);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return w(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function w(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}function x(e){d.default.config.errorHandler&&d.default.config.errorHandler(e)}function y(e){return e.then((function(e){return e.default||e}))}function k(e){return e.$options&&"function"==typeof e.$options.fetch&&!e.$options.fetch.length}function _(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=v(e.$children||[]);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.$fetch?n.push(o):o.$children&&_(o,n)}}catch(e){r.e(e)}finally{r.f()}return n}function O(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),m(m({},data),t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function j(e){return e.options&&e._Ctor===e||(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=d.default.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file)),e}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((function(e,r){return Object.keys(e[n]).map((function(o){return t&&t.push(r),e[n][o]}))})))}function R(e){return S(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],"instances")}function C(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.components).reduce((function(r,o){return e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r}),[])})))}function I(e,t){return Promise.all(C(e,function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,r,o,c){var l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n||n.options){e.next=11;break}return e.prev=1,e.next=4,n();case 4:n=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0&&"ChunkLoadError"===e.t0.name&&"undefined"!=typeof window&&window.sessionStorage&&(l=Date.now(),(!(d=parseInt(window.sessionStorage.getItem("nuxt-reload")))||d+6e4<l)&&(window.sessionStorage.setItem("nuxt-reload",l),window.location.reload(!0))),e.t0;case 11:return o.components[c]=n=j(n),e.abrupt("return","function"==typeof t?t(n,r,o,c):n);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r,o){return e.apply(this,arguments)}}()))}function $(e){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I(t);case 4:return e.abrupt("return",m(m({},t),{},{meta:S(t).map((function(e,n){return m(m({},e.options.meta),(t.matched[n]||{}).meta)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var o,c,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,store:t.store,payload:n.payload,error:n.error,base:t.router.options.base,env:{STATIC_URL:"",baseUrl:"https://loghomeservice.codesocean.top",mobileUrl:"https://m.loghome.ink"}},n.req&&(t.context.req=n.req),n.res&&(t.context.res=n.res),n.ssrContext&&(t.context.ssrContext=n.ssrContext),t.context.redirect=function(e,path,n){if(e){t.context._redirected=!0;var o=Object(r.a)(path);if("number"==typeof e||"undefined"!==o&&"object"!==o||(n=path||{},path=e,o=Object(r.a)(path),e=302),"object"===o&&(path=t.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=Object(h.d)(path,n),window.location.replace(path),new Error("ERR_REDIRECT");t.context.next({path:path,query:n,status:e})}},t.context.nuxtState=window.__NUXT__),e.next=3,Promise.all([$(n.route),$(n.from)]);case 3:o=e.sent,c=Object(l.a)(o,2),d=c[0],f=c[1],n.route&&(t.context.route=d),n.from&&(t.context.from=f),t.context.next=n.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():N(e[0],t).then((function(){return T(e.slice(1),t)}))}function N(e,t){var n;return(n=2===e.length?new Promise((function(n){e(t,(function(e,data){e&&t.error(e),n(data=data||{})}))})):e(t))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function A(base,e){if("hash"===e)return window.location.hash.replace(/^#\//,"");base=decodeURI(base).slice(0,-1);var path=decodeURI(window.location.pathname);base&&path.startsWith(base)&&(path=path.slice(base.length));var t=(path||"/")+window.location.search+window.location.hash;return Object(h.c)(t)}function M(e,t){return function(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===Object(r.a)(e[i])&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",K(t)));return function(t,r){for(var path="",data=t||{},o=(r||{}).pretty?U:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var d=data[l.name||"pathMatch"],h=void 0;if(null==d){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=o(d[f]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");path+=(0===f?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?W(d):o(d),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');path+=l.prefix+h}}else path+=l}return path}}(function(e,t){var n,r=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(n=J.exec(e));){var d=n[0],h=n[1],f=n.index;if(path+=e.slice(c,f),c=f+d.length,h)path+=h[1];else{var m=e[c],v=n[2],w=n[3],x=n[4],y=n[5],k=n[6],_=n[7];path&&(r.push(path),path="");var O=null!=v&&null!=m&&m!==v,j="+"===k||"*"===k,S="?"===k||"*"===k,R=n[2]||l,pattern=x||y;r.push({name:w||o++,prefix:v||"",delimiter:R,optional:S,repeat:j,partial:O,asterisk:Boolean(_),pattern:pattern?H(pattern):_?".*":"[^"+B(R)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&r.push(path);return r}(e,t),t)}function D(e,t){var n={},r=m(m({},e),t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function L(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return m(m({},e),{},{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(e){window.onNuxtReadyCbs.push(e)};var J=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(e,t){var n=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(n,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function W(e){return U(e,!0)}function B(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function H(e){return e.replace(/([=!:$/()])/g,"\\$1")}function K(e){return e&&e.sensitive?"":"i"}function F(e,t,n){e.$options[t]||(e.$options[t]=[]),e.$options[t].includes(n)||e.$options[t].push(n)}var X=h.b,Y=(h.e,h.a);function Q(e){try{window.history.scrollRestoration=e}catch(e){}}},101:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return w}));n(20),n(17),n(18),n(36),n(37),n(27),n(41),n(34);var r=n(5),o=n(9),c=(n(107),n(173),n(55),n(174),n(175),n(28),n(10),n(35),n(151),n(176),{exact:{"/":"/","/write":"/pages/essays","/community":"/pages/community/index","/read":"/pages/library","/read/collections":"/pages/readers/collections","/community/post/edit":"/pages/community/postEdit","/me":"/pages/me"},params:[{pattern:/^\/users\/(\d+)$/,replacement:"/pages/users/personalPage?id=$1"},{pattern:/^\/article\/(\d+)$/,replacement:"/pages/readers/newReader/article?id=$1"},{pattern:/^\/novel\/(\d+)$/,replacement:"/pages/readers/bookInfo?id=$1"},{pattern:/^\/write\/edit\/(\d+)$/,replacement:"/pages/writers/allArticles?id=$1"},{pattern:/^\/write\/settings\/(\d+)$/,replacement:"/pages/writers/essaySet?id=$1"},{pattern:/^\/write\/settings\/tags\/(\d+)$/,replacement:"/pages/writers/changeNovelTags?id=$1"},{pattern:/^\/write\/settings\/info\/(\d+)$/,replacement:"/pages/writers/changeEssayInfo?id=$1"},{pattern:/^\/community\/post\/(\d+)$/,replacement:"/pages/community/postDetail?id=$1"},{pattern:/^\/community\/circle\/(\d+)$/,replacement:"/pages/community/circle?id=$1"},{pattern:/^\/community\/circle\/(\d+)$/,replacement:"/pages/community/circle?id=$1"}],prefix:[],queryParams:{},default:{keepOriginal:!0,prefix:"",removePrefix:[]},special:{ignore:["/api","/static","/assets","/_nuxt"],removeParams:["utm_source","utm_medium","utm_campaign"]}});function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return d(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function d(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var path,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(path=e,c.special.ignore.some((function(e){return path.startsWith(e)})))return{path:e,query:t};var n=e,o=f({},t),d=c.exact[e];if(d)n=d;else{var h=function(path){var e,t=l(c.params);try{var n,r=function(){var t=e.value,n=path.match(t.pattern);if(n)return{v:t.replacement.replace(/\$(\d+)/g,(function(e,t){return n[t]}))}};for(t.s();!(e=t.n()).done;)if(n=r())return n.v}catch(e){t.e(e)}finally{t.f()}return null}(e);if(h)n=h;else{var m=function(path){var e,t=l(c.prefix);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(path.startsWith(n.from))return path.replace(n.from,n.to)}}catch(e){t.e(e)}finally{t.f()}return null}(e);n=m||function(path){var e=c.default;if(!e.keepOriginal)return e.prefix+path;var t,n=path,r=l(e.removePrefix);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n.startsWith(o)){n=n.substring(o.length);break}}}catch(e){r.e(e)}finally{r.f()}return e.prefix+n}(e)}}return o=function(e){for(var t={},n=0,o=Object.entries(e);n<o.length;n++){var l=Object(r.a)(o[n],2),d=l[0],h=l[1];t[c.queryParams[d]||d]=h}return t}(o),o=function(e){var t,n=f({},e),r=l(c.special.removeParams);try{for(r.s();!(t=r.n()).done;){delete n[t.value]}}catch(e){r.e(e)}finally{r.f()}return n}(o),{path:n,query:o}}function v(e,t){var n=m(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),o=e;o.endsWith("/")&&(o=o.slice(0,-1)),n.path&&"/"!==n.path?o+="/#"+n.path:o+="/#/";var c=function(e){for(var t=[],n=0,o=Object.entries(e);n<o.length;n++){var c=Object(r.a)(o[n],2),l=c[0],d=c[1];null!=d&&""!==d&&t.push("".concat(encodeURIComponent(l),"=").concat(encodeURIComponent(d)))}return t.join("&")}(n.query);return c&&(o+="?"+c),o}function w(e){try{var t,n=new URL(e),o={},c=l(n.searchParams.entries());try{for(c.s();!(t=c.n()).done;){var d=Object(r.a)(t.value,2),h=d[0],f=d[1];o[h]=f}}catch(e){c.e(e)}finally{c.f()}return{path:n.pathname,query:o,hash:n.hash}}catch(t){var m=e.split("?"),v=Object(r.a)(m,2),path=v[0],w=v[1],x={};if(w){var y,k=l(new URLSearchParams(w).entries());try{for(k.s();!(y=k.n()).done;){var _=Object(r.a)(y.value,2),O=_[0],j=_[1];x[O]=j}}catch(e){k.e(e)}finally{k.f()}}return{path:path,query:x,hash:""}}}},103:function(e,t,n){"use strict";n(61),n(62),n(52),n(18),n(10),n(28),n(27),n(17),n(41),n(34),n(35);var r=n(2);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return c(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,l=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw l}}}}function c(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}var l=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},d=window.cancelIdleCallback||function(e){clearTimeout(e)},h=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||!link.__prefetch||link.__prefetch()}))}));t.a={name:"NuxtLink",extends:r.default.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=l(this.observe,{timeout:2e3}))},beforeDestroy:function(){d(this.handleId),this.__observed&&(h.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){h&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),h.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){h.unobserve(this.$el);var e,t=o(this.getPrefetchComponents());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n();r instanceof Promise&&r.catch((function(){})),n.__prefetched=!0}}catch(e){t.e(e)}finally{t.f()}}}}}},144:function(e,t,n){"use strict";var r={};r["device-detect"]=n(249),r["device-detect"]=r["device-detect"].default||r["device-detect"],t.a=r},178:function(e,t,n){var content=n(260);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("e39fc486",content,!0,{sourceMap:!1})},179:function(e,t,n){var content=n(262);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("788df938",content,!0,{sourceMap:!1})},180:function(e,t,n){var content=n(272);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("4bedc74f",content,!0,{sourceMap:!1})},181:function(e,t,n){var content=n(274);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("48bc0812",content,!0,{sourceMap:!1})},182:function(e,t,n){var content=n(276);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("0f98c7ed",content,!0,{sourceMap:!1})},183:function(e,t,n){var content=n(278);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("2e17d99a",content,!0,{sourceMap:!1})},184:function(e,t,n){var content=n(280);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("01574bc4",content,!0,{sourceMap:!1})},219:function(e,t,n){"use strict";var r=n(0),o=(n(6),n(10),n(2)),c=n(1),l=window.__NUXT__;function d(){if(!this._hydrated)return this.$fetch()}function h(){if((e=this).$vnode&&e.$vnode.elm&&e.$vnode.elm.dataset&&e.$vnode.elm.dataset.fetchKey){var e;this._hydrated=!0,this._fetchKey=this.$vnode.elm.dataset.fetchKey;var data=l.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var t in data)o.default.set(this.$data,t,data[t])}}function f(){var e=this;return this._fetchPromise||(this._fetchPromise=m.call(this).then((function(){delete e._fetchPromise}))),this._fetchPromise}function m(){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$nuxt.nbFetching++,this.$fetchState.pending=!0,this.$fetchState.error=null,this._hydrated=!1,t=null,n=Date.now(),e.prev=6,e.next=9,this.$options.fetch.call(this);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),t=Object(c.p)(e.t0);case 15:if(!((r=this._fetchDelay-(Date.now()-n))>0)){e.next=19;break}return e.next=19,new Promise((function(e){return setTimeout(e,r)}));case 19:this.$fetchState.error=t,this.$fetchState.pending=!1,this.$fetchState.timestamp=Date.now(),this.$nextTick((function(){return o.$nuxt.nbFetching--}));case 23:case"end":return e.stop()}}),e,this,[[6,11]])})))).apply(this,arguments)}t.a={beforeCreate:function(){Object(c.l)(this)&&(this._fetchDelay="number"==typeof this.$options.fetchDelay?this.$options.fetchDelay:200,o.default.util.defineReactive(this,"$fetchState",{pending:!1,error:null,timestamp:Date.now()}),this.$fetch=f.bind(this),Object(c.a)(this,"created",h),Object(c.a)(this,"beforeMount",d))}}},229:function(e,t,n){e.exports=n.p+"img/logo.578df2f.png"},231:function(e,t,n){e.exports=n(232)},232:function(e,t,n){"use strict";n.r(t),function(e){n(28),n(17),n(41);var t=n(11),r=n(0),o=(n(166),n(240),n(244),n(246),n(6),n(27),n(18),n(20),n(61),n(62),n(52),n(34),n(10),n(35),n(2)),c=n(213),l=n(144),d=n(1),h=n(33),f=n(219),m=n(103);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return w(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function w(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}o.default.__nuxt__fetch__mixin__||(o.default.mixin(f.a),o.default.__nuxt__fetch__mixin__=!0),o.default.component(m.a.name,m.a),o.default.component("NLink",m.a),e.fetch||(e.fetch=c.a);var x,y,k=[],_=window.__NUXT__||{},O=_.config||{};O._app&&(n.p=Object(d.v)(O._app.cdnURL,O._app.assetsPath)),Object.assign(o.default.config,{ignoredElements:[],silent:!0,performance:!1});var j=o.default.config.errorHandler||console.error;function S(e,t,n){for(var r=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e},o=n?Object(d.g)(n):[],c=Math.max(e.length,o.length),l=[],h=function(){var t=Object.assign({},r(e[i])),n=Object.assign({},r(o[i]));Object.keys(t).filter((function(e){return void 0!==t[e]&&!e.toLowerCase().includes("leave")})).forEach((function(e){n[e]=t[e]})),l.push(n)},i=0;i<c;i++)h();return l}function R(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,h,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._routeChanged=Boolean(x.nuxt.err)||n.name!==t.name,this._paramChanged=!this._routeChanged&&n.path!==t.path,this._queryChanged=!this._paramChanged&&n.fullPath!==t.fullPath,this._diffQuery=this._queryChanged?Object(d.i)(t.query,n.query):[],(this._routeChanged||this._paramChanged)&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=5,!this._queryChanged){e.next=12;break}return e.next=9,Object(d.r)(t,(function(e,t){return{Component:e,instance:t}}));case 9:o=e.sent,o.some((function(e){var r=e.Component,o=e.instance,c=r.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(e){return f._diffQuery[e]})):"function"==typeof c&&c.apply(o,[t.query,n.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 12:r(),e.next=26;break;case 15:if(e.prev=15,e.t0=e.catch(5),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,h=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(h)){e.next=23;break}return window.location.reload(!0),e.abrupt("return");case 23:this.error({statusCode:l,message:h}),this.$nuxt.$emit("routeChanged",t,n,c),r();case 26:case"end":return e.stop()}}),e,this,[[5,15]])})))).apply(this,arguments)}function I(e,t){return _.serverRendered&&t&&Object(d.b)(e,t),e._Ctor=e,e}function $(e,t,n){var r=this,o=["device-detect"],c=!1;if(void 0!==n&&(o=[],(n=Object(d.s)(n)).options.middleware&&(o=o.concat(n.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof l.a[e]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+e})),l.a[e])})),!c)return Object(d.o)(o,t)}function z(e,t,n){return P.apply(this,arguments)}function P(){return P=Object(r.a)(regeneratorRuntime.mark((function e(t,n,o){var c,l,f,m,w,y,_,O,j,R,C,I,z,P,E,T=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",o());case 2:return t===n?(k=[],!0):(c=[],k=Object(d.g)(n,c).map((function(e,i){return Object(d.c)(n.matched[c[i]].path)(n.params)}))),l=!1,f=function(path){n.path===path.path&&T.$loading.finish&&T.$loading.finish(),n.path!==path.path&&T.$loading.pause&&T.$loading.pause(),l||(l=!0,o(path))},e.next=8,Object(d.t)(x,{route:t,from:n,next:f.bind(this)});case 8:if(this._dateLastError=x.nuxt.dateErr,this._hadError=Boolean(x.nuxt.err),m=[],(w=Object(d.g)(t,m)).length){e.next=27;break}return e.next=15,$.call(this,w,x.context);case 15:if(!l){e.next=17;break}return e.abrupt("return");case 17:return y=(h.a.options||h.a).layout,e.next=20,this.loadLayout("function"==typeof y?y.call(h.a,x.context):y);case 20:return _=e.sent,e.next=23,$.call(this,w,x.context,_);case 23:if(!l){e.next=25;break}return e.abrupt("return");case 25:return x.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",o());case 27:return w.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(S(w,t,n)),e.prev=29,e.next=32,$.call(this,w,x.context);case 32:if(!l){e.next=34;break}return e.abrupt("return");case 34:if(!x.context._errored){e.next=36;break}return e.abrupt("return",o());case 36:return"function"==typeof(O=w[0].options.layout)&&(O=O(x.context)),e.next=40,this.loadLayout(O);case 40:return O=e.sent,e.next=43,$.call(this,w,x.context,O);case 43:if(!l){e.next=45;break}return e.abrupt("return");case 45:if(!x.context._errored){e.next=47;break}return e.abrupt("return",o());case 47:j=!0,e.prev=48,R=v(w),e.prev=50,R.s();case 52:if((C=R.n()).done){e.next=63;break}if("function"==typeof(I=C.value).options.validate){e.next=56;break}return e.abrupt("continue",61);case 56:return e.next=58,I.options.validate(x.context);case 58:if(j=e.sent){e.next=61;break}return e.abrupt("break",63);case 61:e.next=52;break;case 63:e.next=68;break;case 65:e.prev=65,e.t0=e.catch(50),R.e(e.t0);case 68:return e.prev=68,R.f(),e.finish(68);case 71:e.next=77;break;case 73:return e.prev=73,e.t1=e.catch(48),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",o());case 77:if(j){e.next=80;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",o());case 80:return e.next=82,Promise.all(w.map(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(r,i){var o,c,l,h,f,v,w,y,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._path=Object(d.c)(t.matched[m[i]].path)(t.params),r._dataRefresh=!1,o=r._path!==k[i],T._routeChanged&&o?r._dataRefresh=!0:T._paramChanged&&o?(c=r.options.watchParam,r._dataRefresh=!1!==c):T._queryChanged&&(!0===(l=r.options.watchQuery)?r._dataRefresh=!0:Array.isArray(l)?r._dataRefresh=l.some((function(e){return T._diffQuery[e]})):"function"==typeof l&&(z||(z=Object(d.h)(t)),r._dataRefresh=l.apply(z[i],[t.query,n.query]))),T._hadError||!T._isMounted||r._dataRefresh){e.next=6;break}return e.abrupt("return");case 6:return h=[],f=r.options.asyncData&&"function"==typeof r.options.asyncData,v=Boolean(r.options.fetch)&&r.options.fetch.length,w=f&&v?30:45,f&&((y=Object(d.q)(r.options.asyncData,x.context)).then((function(e){Object(d.b)(r,e),T.$loading.increase&&T.$loading.increase(w)})),h.push(y)),T.$loading.manual=!1===r.options.loading,v&&((p=r.options.fetch(x.context))&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){T.$loading.increase&&T.$loading.increase(w)})),h.push(p)),e.abrupt("return",Promise.all(h));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 82:l||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),o()),e.next=99;break;case 85:if(e.prev=85,e.t2=e.catch(29),"ERR_REDIRECT"!==(P=e.t2||{}).message){e.next=90;break}return e.abrupt("return",this.$nuxt.$emit("routeChanged",t,n,P));case 90:return k=[],Object(d.k)(P),"function"==typeof(E=(h.a.options||h.a).layout)&&(E=E(x.context)),e.next=96,this.loadLayout(E);case 96:this.error(P),this.$nuxt.$emit("routeChanged",t,n,P),o();case 99:case"end":return e.stop()}}),e,this,[[29,85],[48,73],[50,65,68,71]])}))),P.apply(this,arguments)}function E(e,n){Object(d.d)(e,(function(e,n,r,c){return"object"!==Object(t.a)(e)||e.options||((e=o.default.extend(e))._Ctor=e,r.components[c]=e),e}))}function T(e){var t=Boolean(this.$options.nuxt.err);this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&(t=!1);var n=t?(h.a.options||h.a).layout:e.matched[0].components.default.options.layout;"function"==typeof n&&(n=n(x.context)),this.setLayout(n)}function N(e){e._hadError&&e._dateLastError===e.$options.nuxt.dateErr&&e.error()}function A(e,t){var n=this;if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){var r=Object(d.h)(e),c=Object(d.g)(e),l=!1;o.default.nextTick((function(){r.forEach((function(e,i){if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&c[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)o.default.set(e.$data,n,t[n]);l=!0}})),l&&window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),N(n)}))}}function M(e){window.onNuxtReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),y.afterEach((function(t,n){o.default.nextTick((function(){return e.$nuxt.$emit("routeChanged",t,n)}))}))}function D(){return D=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,c,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x=t.app,y=t.router,t.store,n=new o.default(x),c=_.layout||"default",e.next=7,n.loadLayout(c);case 7:return n.setLayout(c),l=function(){n.$mount("#__nuxt"),y.afterEach(E),y.afterEach(T.bind(n)),y.afterEach(A.bind(n)),o.default.nextTick((function(){M(n)}))},e.next=11,Promise.all((m=x.context.route,Object(d.d)(m,function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=I(Object(d.s)(t),_.data?_.data[c]:null),r.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c){return e.apply(this,arguments)}}())));case 11:if(h=e.sent,n.setTransitions=n.$options.nuxt.setTransitions.bind(n),h.length&&(n.setTransitions(S(h,y.currentRoute)),k=y.currentRoute.matched.map((function(e){return Object(d.c)(e.path)(y.currentRoute.params)}))),n.$loading={},_.error&&n.error(_.error),y.beforeEach(R.bind(n)),y.beforeEach(z.bind(n)),!_.serverRendered||!Object(d.n)(_.routePath,n.context.route.path)){e.next=20;break}return e.abrupt("return",l());case 20:return f=function(){E(y.currentRoute,y.currentRoute),T.call(n,y.currentRoute),N(n),l()},e.next=23,new Promise((function(e){return setTimeout(e,0)}));case 23:z.call(n,y.currentRoute,y.currentRoute,(function(path){if(path){var e=y.afterEach((function(t,n){e(),f()}));y.push(path,void 0,(function(e){e&&j(e)}))}else f()}));case 24:case"end":return e.stop()}var m}),e)}))),D.apply(this,arguments)}Object(h.b)(null,_.config).then((function(e){return D.apply(this,arguments)})).catch(j)}.call(this,n(29))},249:function(e,t,n){"use strict";n.r(t);n(20),n(10),n(53),n(54),n(61),n(62),n(101);t.default=function(e){e.req,e.redirect,e.route,e.$config,e.app}},259:function(e,t,n){"use strict";n(178)},260:function(e,t,n){var r=n(25)(!1);r.push([e.i,"\n.__nuxt-error-page {\n  padding: 1rem;\n  background: #F7F8FB;\n  color: #47494E;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  font-family: sans-serif;\n  font-weight: 100 !important;\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n  -webkit-font-smoothing: antialiased;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.__nuxt-error-page .error {\n  max-width: 450px;\n}\n.__nuxt-error-page .title {\n  font-size: 1.5rem;\n  margin-top: 15px;\n  color: #47494E;\n  margin-bottom: 8px;\n}\n.__nuxt-error-page .description {\n  color: #7F828B;\n  line-height: 21px;\n  margin-bottom: 10px;\n}\n.__nuxt-error-page a {\n  color: #7F828B !important;\n  text-decoration: none;\n}\n.__nuxt-error-page .logo {\n  position: fixed;\n  left: 12px;\n  bottom: 12px;\n}\n",""]),e.exports=r},261:function(e,t,n){"use strict";n(179)},262:function(e,t,n){var r=n(25)(!1);r.push([e.i,"\n.nuxt-progress {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 6px;\n  width: 0%;\n  opacity: 1;\n  transition: width 0.1s, opacity 0.4s;\n  background-color: #947358;\n  z-index: 999999;\n}\n.nuxt-progress.nuxt-progress-notransition {\n  transition: none;\n}\n.nuxt-progress-failed {\n  background-color: red;\n}\n",""]),e.exports=r},268:function(e,t,n){var content=n(269);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("43dee4e4",content,!0,{sourceMap:!1})},269:function(e,t,n){var r=n(25)(!1);r.push([e.i,"/* 全局样式文件 */\n\nhtml {\n  font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n    'Helvetica Neue', Arial, sans-serif;\n  font-size: 16px;\n  word-spacing: 1px;\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  box-sizing: border-box;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: border-box;\n  margin: 0;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n  background-color: #f5f5f5;\n}",""]),e.exports=r},270:function(e,t,n){e.exports=n.p+"img/logo_text.bcdb854.png"},271:function(e,t,n){"use strict";n(180)},272:function(e,t,n){var r=n(25)(!1);r.push([e.i,"\n.floating-window[data-v-35419b22], .floating-window *[data-v-35419b22] {\r\n  box-sizing: border-box;\n}\n.floating-window[data-v-35419b22] {\r\n  position: absolute;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  will-change: transform, opacity;\r\n  transform-origin: center;\n}\n.floating-window.is-closing[data-v-35419b22] {\r\n  pointer-events: none;\n}\n.window-animation-enter-active[data-v-35419b22], \r\n.window-animation-leave-active[data-v-35419b22] {\r\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n  pointer-events: none;\n}\n.window-animation-enter[data-v-35419b22], \r\n.window-animation-leave-to[data-v-35419b22] {\r\n  opacity: 0;\r\n  transform: scale(0.8);\n}\n.window-header[data-v-35419b22] {\r\n  background-color: #947358;\r\n  height: 36px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 12px;\r\n  cursor: move;\r\n  user-select: none;\n}\n.window-title[data-v-35419b22] {\r\n  color: #fff;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  flex: 1;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\n}\n.window-controls[data-v-35419b22] {\r\n  display: flex;\r\n  align-items: center;\n}\n.control-btn[data-v-35419b22] {\r\n  border: none;\r\n  background: transparent;\r\n  color: #fff;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-left: 6px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\n}\n.control-btn[data-v-35419b22]:hover {\r\n  background-color: rgba(255, 255, 255, 0.2);\n}\n.close-btn[data-v-35419b22]:hover {\r\n  background-color: #f56c6c;\n}\n.window-content[data-v-35419b22] {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  position: relative;\r\n  display: flex;\n}\n.window-iframe[data-v-35419b22] {\r\n  border: none;\r\n  flex: 1;\r\n  display: block;\n}\n.iframe-overlay[data-v-35419b22] {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(255, 255, 255, 0.01);\r\n  z-index: 100;\n}\n.resize-handle[data-v-35419b22] {\r\n  position: absolute;\r\n  background-color: transparent;\r\n  z-index: 10;\n}\n.resize-handle-right[data-v-35419b22] {\r\n  right: 0;\r\n  top: 36px;\r\n  width: 6px;\r\n  height: calc(100% - 36px - 6px);\r\n  cursor: e-resize;\n}\n.resize-handle-bottom[data-v-35419b22] {\r\n  bottom: 0;\r\n  left: 6px;\r\n  height: 6px;\r\n  width: calc(100% - 12px);\r\n  cursor: s-resize;\n}\n.resize-handle-corner[data-v-35419b22] {\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 12px;\r\n  height: 12px;\r\n  cursor: se-resize;\n}\r\n",""]),e.exports=r},273:function(e,t,n){"use strict";n(181)},274:function(e,t,n){var r=n(25)(!1);r.push([e.i,"\n.minimized-bar[data-v-7a62759e] {\r\n  position: fixed;\r\n  left: 20px;\r\n  bottom: 20px;\r\n  display: flex;\r\n  gap: 10px;\r\n  z-index: 9999;\n}\n.minimized-window[data-v-7a62759e] {\r\n  width: 40px;\r\n  height: 40px;\r\n  background-color: #947358;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n  color: white;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n  animation: minimized-pulse-7a62759e 2s infinite alternate ease-in-out;\n}\n.minimized-window[data-v-7a62759e]:hover {\r\n  transform: scale(1.1);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n  animation: none;\n}\r\n\r\n/* 动画效果 */\n.minimize-animation-enter-active[data-v-7a62759e],\r\n.minimize-animation-leave-active[data-v-7a62759e] {\r\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n.minimize-animation-enter[data-v-7a62759e],\r\n.minimize-animation-leave-to[data-v-7a62759e] {\r\n  opacity: 0;\r\n  transform: scale(0.1);\n}\n.minimize-animation-move[data-v-7a62759e] {\r\n  transition: transform 0.3s;\n}\r\n\r\n/* 脉动动画更柔和 */\n@keyframes minimized-pulse-7a62759e {\n0% {\r\n    transform: scale(1);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n100% {\r\n    transform: scale(1.05);\r\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);\n}\n}\r\n",""]),e.exports=r},275:function(e,t,n){"use strict";n(182)},276:function(e,t,n){var r=n(25)(!1);r.push([e.i,"\n.window-manager[data-v-0a2c6b19] {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none; /* 让事件穿透到下层内容 */\r\n  z-index: 1000;\n}\r\n\r\n/* 窗口本身需要接收事件 */\n.window-manager > *[data-v-0a2c6b19] {\r\n  pointer-events: auto;\n}\r\n",""]),e.exports=r},277:function(e,t,n){"use strict";n(183)},278:function(e,t,n){var r=n(25)(!1);r.push([e.i,"\r\n/* 全局样式已移至 assets/css/global.css */\n.navbar[data-v-26dd10f5] {\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 1000;\n}\n.navbar-container[data-v-26dd10f5] {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  height: 60px;\n}\n.navbar-left[data-v-26dd10f5], .navbar-center[data-v-26dd10f5], .navbar-right[data-v-26dd10f5] {\r\n  display: flex;\r\n  align-items: center;\n}\n.logo[data-v-26dd10f5] {\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  transition: transform 0.3s;\n}\n.logo-img[data-v-26dd10f5] {\r\n  height: 40px;\r\n  margin-right: 6px;\n}\n.logo-text[data-v-26dd10f5]{\r\n  height: 36px;\r\n  transform: translateY(1px);\n}\n.logo-text[data-v-26dd10f5] {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #947358;\n}\n.logo[data-v-26dd10f5]:hover{\r\n  transform: scale(1.05);\n}\n.nav-link[data-v-26dd10f5] {\r\n  margin: 0 15px;\r\n  font-size: 16px;\r\n  color: #333;\r\n  text-decoration: none;\r\n  transition: color 0.3s;\r\n  position: relative;\r\n  padding: 10px 0;\n}\n.nav-link[data-v-26dd10f5]:hover {\r\n  color: #947358;\r\n  text-decoration: none;\n}\n.nav-link-active[data-v-26dd10f5] {\r\n  color: #947358;\r\n  font-weight: 600;\n}\n.nav-link-active[data-v-26dd10f5]:after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 3px;\r\n  background-color: #947358;\n}\r\n\r\n/* 搜索框样式 */\n.search-box[data-v-26dd10f5] {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  background: #f5f5f5;\r\n  border-radius: 25px;\r\n  padding: 0 20px;\r\n  transition: all 0.3s;\r\n  max-width: 800px;\r\n  margin-right: 20px;\n}\n.search-box.active[data-v-26dd10f5] {\r\n  background: white;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  border: 1px solid #947358;\n}\n.search-icon[data-v-26dd10f5] {\r\n  color: #999;\r\n  font-size: 18px;\r\n  margin-right: 10px;\n}\n.search-input[data-v-26dd10f5] {\r\n  flex: 1;\r\n  border: none;\r\n  background: transparent;\r\n  outline: none;\r\n  padding: 12px 0;\r\n  font-size: 16px;\r\n  color: #0a0a0a;\n}\n.search-input[data-v-26dd10f5]::placeholder {\r\n  color: #999;\n}\n.search-clear[data-v-26dd10f5] {\r\n  color: #999;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  margin-left: 10px;\r\n  transition: color 0.3s;\n}\n.search-clear[data-v-26dd10f5]:hover {\r\n  color: #666;\n}\r\n\r\n/* 搜索下拉框 */\n.search-dropdown[data-v-26dd10f5] {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  z-index: 1000;\r\n  max-height: 500px;\r\n  overflow-y: auto;\r\n  margin-top: 5px;\n}\n.search-section[data-v-26dd10f5] {\r\n  padding: 15px 20px;\r\n  border-bottom: 1px solid #f0f0f0;\n}\n.search-section[data-v-26dd10f5]:last-child {\r\n  border-bottom: none;\n}\n.section-header[data-v-26dd10f5] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\n}\n.section-title[data-v-26dd10f5] {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #333;\n}\n.clear-btn[data-v-26dd10f5] {\r\n  background: none;\r\n  border: none;\r\n  color: #999;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  font-size: 14px;\r\n  transition: color 0.3s;\n}\n.clear-btn[data-v-26dd10f5]:hover {\r\n  color: #666;\n}\n.view-all[data-v-26dd10f5] {\r\n  color: #947358;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  transition: color 0.3s;\n}\n.view-all[data-v-26dd10f5]:hover {\r\n  color: #704C35;\n}\r\n\r\n/* 搜索历史 */\n.history-list[data-v-26dd10f5] {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\n}\n.history-item[data-v-26dd10f5] {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  color: #666;\r\n  font-size: 14px;\n}\n.history-item[data-v-26dd10f5]:hover {\r\n  background: #f5f2ef;\n}\n.history-item i[data-v-26dd10f5] {\r\n  margin-right: 8px;\r\n  font-size: 12px;\n}\r\n\r\n/* 热门搜索 */\n.hot-list[data-v-26dd10f5] {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\n}\n.hot-item[data-v-26dd10f5] {\r\n  background: #f5f2ef;\r\n  color: #947358;\r\n  padding: 6px 12px;\r\n  border-radius: 15px;\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  border: 1px solid #e6d8cf;\n}\n.hot-item[data-v-26dd10f5]:hover {\r\n  background: #947358;\r\n  color: white;\n}\r\n\r\n/* 搜索结果 */\n.result-section[data-v-26dd10f5] {\r\n  padding: 15px 20px;\r\n  border-bottom: 1px solid #f0f0f0;\n}\n.result-section[data-v-26dd10f5]:last-child {\r\n  border-bottom: none;\n}\r\n\r\n/* 书籍结果 */\n.book-results[data-v-26dd10f5] {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\n}\n.book-item[data-v-26dd10f5] {\r\n  display: flex;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  border-radius: 6px;\r\n  transition: background-color 0.3s;\n}\n.book-item[data-v-26dd10f5]:hover {\r\n  background: #f5f2ef;\n}\n.book-cover[data-v-26dd10f5] {\r\n  width: 40px;\r\n  height: 56px;\r\n  border-radius: 4px;\r\n  object-fit: cover;\r\n  margin-right: 12px;\n}\n.book-info[data-v-26dd10f5] {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\n}\n.book-title[data-v-26dd10f5] {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 4px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\n}\n.book-author[data-v-26dd10f5] {\r\n  font-size: 12px;\r\n  color: #666;\n}\r\n\r\n/* 帖子结果 */\n.post-results[data-v-26dd10f5] {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\n}\n.post-item[data-v-26dd10f5] {\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  border-radius: 6px;\r\n  transition: background-color 0.3s;\n}\n.post-item[data-v-26dd10f5]:hover {\r\n  background: #f5f2ef;\n}\n.post-title[data-v-26dd10f5] {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 4px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\n}\n.post-meta[data-v-26dd10f5] {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 12px;\r\n  color: #666;\n}\r\n\r\n/* 圈子结果 */\n.circle-results[data-v-26dd10f5] {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\n}\n.circle-item[data-v-26dd10f5] {\r\n  display: flex;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  border-radius: 6px;\r\n  transition: background-color 0.3s;\n}\n.circle-item[data-v-26dd10f5]:hover {\r\n  background: #f5f2ef;\n}\n.circle-icon[data-v-26dd10f5] {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-right: 12px;\n}\n.circle-info[data-v-26dd10f5] {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\n}\n.circle-name[data-v-26dd10f5] {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 4px;\n}\n.circle-meta[data-v-26dd10f5] {\r\n  font-size: 12px;\r\n  color: #666;\n}\r\n\r\n/* 用户结果 */\n.user-results[data-v-26dd10f5] {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\n}\n.user-item[data-v-26dd10f5] {\r\n  display: flex;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  border-radius: 6px;\r\n  transition: background-color 0.3s;\n}\n.user-item[data-v-26dd10f5]:hover {\r\n  background: #f8f9fa;\n}\n.user-avatar[data-v-26dd10f5] {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-right: 12px;\n}\n.user-info[data-v-26dd10f5] {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\n}\n.user-name[data-v-26dd10f5] {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 4px;\n}\n.user-motto[data-v-26dd10f5] {\r\n  font-size: 12px;\r\n  color: #666;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\n}\r\n\r\n/* 无结果 */\n.no-results[data-v-26dd10f5] {\r\n  text-align: center;\r\n  padding: 30px 20px;\r\n  color: #999;\n}\n.no-results-icon[data-v-26dd10f5] {\r\n  font-size: 32px;\r\n  margin-bottom: 10px;\r\n  opacity: 0.5;\n}\n.no-results-text[data-v-26dd10f5] {\r\n  font-size: 14px;\r\n  margin-bottom: 15px;\n}\n.search-all-btn[data-v-26dd10f5] {\r\n  background: #947358;\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 15px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  transition: background-color 0.3s;\n}\n.search-all-btn[data-v-26dd10f5]:hover {\r\n  background: #704C35;\n}\n.user-actions[data-v-26dd10f5] {\r\n  display: flex;\r\n  align-items: center;\n}\n.user-link[data-v-26dd10f5] {\r\n  color: #333;\r\n  text-decoration: none;\r\n  transition: color 0.3s;\n}\n.user-link[data-v-26dd10f5]:hover {\r\n  color: #947358;\r\n  text-decoration: none;\n}\n.user-profile[data-v-26dd10f5] {\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding: 5px 10px;\r\n  border-radius: 4px;\r\n  transition: background-color 0.3s;\n}\n.user-profile[data-v-26dd10f5]:hover {\r\n  background-color: #f5f5f5;\n}\n.user-avatar[data-v-26dd10f5] {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-right: 8px;\n}\n.user-nickname[data-v-26dd10f5] {\r\n  font-size: 14px;\r\n  color: #333;\r\n  margin-right: 5px;\n}\n.divider[data-v-26dd10f5] {\r\n  margin: 0 10px;\r\n  color: #ddd;\n}\n.main-content[data-v-26dd10f5] {\r\n  margin-top: 80px;\r\n  padding: 20px;\r\n  min-height: calc(100vh - 143px);\r\n  max-width: 1200px;\r\n  margin-left: auto;\r\n  margin-right: auto;\n}\n.site-footer[data-v-26dd10f5] {\r\n  background-color: #947358;\r\n  color: #fff;\r\n  padding: 20px 0;\r\n  text-align: center;\n}\n.footer-container[data-v-26dd10f5] {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\n}\n.button--green[data-v-26dd10f5] {\r\n  display: inline-block;\r\n  border-radius: 4px;\r\n  border: 1px solid #947358;\r\n  color: #947358;\r\n  text-decoration: none;\r\n  padding: 10px 30px;\n}\na[data-v-26dd10f5] {\r\n  color: #947358;\r\n  text-decoration: none;\n}\na[data-v-26dd10f5]:hover {\r\n  text-decoration: underline;\n}\n.button--green[data-v-26dd10f5]:hover {\r\n  color: #fff;\r\n  background-color: #947358;\n}\n.button--grey[data-v-26dd10f5] {\r\n  display: inline-block;\r\n  border-radius: 4px;\r\n  border: 1px solid #704C35;\r\n  color: #704C35;\r\n  text-decoration: none;\r\n  padding: 10px 30px;\r\n  margin-left: 15px;\n}\n.button--grey[data-v-26dd10f5]:hover {\r\n  color: #fff;\r\n  background-color: #704C35;\n}\r\n",""]),e.exports=r},279:function(e,t,n){"use strict";n(184)},280:function(e,t,n){var r=n(25)(!1);r.push([e.i,"\n/* 空布局，不包含任何样式 */\n",""]),e.exports=r},281:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"actions",(function(){return c})),n.d(t,"getters",(function(){return l}));var r=function(){return{}},o={},c={},l={}},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return dr})),n.d(t,"a",(function(){return P}));n(20),n(17),n(18),n(36),n(37);var r=n(0),o=n(9),c=(n(6),n(27),n(52),n(10),n(55),n(2)),l=n(73),d=n(214),h=n(146),f=n.n(h),m=n(60),v=n.n(m),w=n(147),x=n(32),y=n(1);"scrollRestoration"in window.history&&(Object(y.u)("manual"),window.addEventListener("beforeunload",(function(){Object(y.u)("auto")})),window.addEventListener("load",(function(){Object(y.u)("manual")})));function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(){};c.default.use(w.a);var j={mode:"history",base:"/",linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(e,t,n){var r=!1,o=e!==t;n?r=n:o&&function(e){var t=Object(y.g)(e);if(1===t.length){var n=t[0].options;return!1!==(void 0===n?{}:n).scrollToTop}return t.some((function(e){var t=e.options;return t&&t.scrollToTop}))}(e)&&(r={x:0,y:0});var c=window.$nuxt;return(!o||e.path===t.path&&e.hash!==t.hash)&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(t){c.$once("triggerScroll",(function(){if(e.hash){var n=e.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{document.querySelector(n)&&(r={selector:n})}catch(e){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}t(r)}))}))},routes:[{path:"/community",component:function(){return Object(y.m)(Promise.all([n.e(0),n.e(7)]).then(n.bind(null,617)))},name:"community"},{path:"/login",component:function(){return Object(y.m)(n.e(11).then(n.bind(null,614)))},name:"login"},{path:"/me",component:function(){return Object(y.m)(n.e(12).then(n.bind(null,618)))},name:"me"},{path:"/read",component:function(){return Object(y.m)(n.e(16).then(n.bind(null,615)))},name:"read"},{path:"/search",component:function(){return Object(y.m)(n.e(17).then(n.bind(null,619)))},name:"search"},{path:"/tags",component:function(){return Object(y.m)(n.e(19).then(n.bind(null,620)))},name:"tags"},{path:"/write",component:function(){return Object(y.m)(n.e(24).then(n.bind(null,621)))},name:"write"},{path:"/agreement/content",component:function(){return Object(y.m)(n.e(3).then(n.bind(null,622)))},name:"agreement-content"},{path:"/community/chat",component:function(){return Object(y.m)(Promise.all([n.e(0),n.e(5)]).then(n.bind(null,623)))},name:"community-chat"},{path:"/novel/fans",component:function(){return Object(y.m)(n.e(14).then(n.bind(null,624)))},name:"novel-fans"},{path:"/read/collections",component:function(){return Object(y.m)(n.e(15).then(n.bind(null,625)))},name:"read-collections"},{path:"/tag/collections",component:function(){return Object(y.m)(n.e(18).then(n.bind(null,626)))},name:"tag-collections"},{path:"/write/new",component:function(){return Object(y.m)(n.e(25).then(n.bind(null,627)))},name:"write-new"},{path:"/community/post/edit",component:function(){return Object(y.m)(n.e(9).then(n.bind(null,628)))},name:"community-post-edit"},{path:"/write/settings/info/:id?",component:function(){return Object(y.m)(n.e(27).then(n.bind(null,629)))},name:"write-settings-info-id"},{path:"/write/settings/tags/:id?",component:function(){return Object(y.m)(n.e(28).then(n.bind(null,630)))},name:"write-settings-tags-id"},{path:"/community/circle/:id?",component:function(){return Object(y.m)(Promise.all([n.e(0),n.e(6)]).then(n.bind(null,631)))},name:"community-circle-id"},{path:"/community/post/:id?",component:function(){return Object(y.m)(Promise.all([n.e(0),n.e(8)]).then(n.bind(null,632)))},name:"community-post-id"},{path:"/write/edit/:id?",component:function(){return Object(y.m)(n.e(23).then(n.bind(null,633)))},name:"write-edit-id"},{path:"/write/settings/:id?",component:function(){return Object(y.m)(n.e(26).then(n.bind(null,634)))},name:"write-settings-id"},{path:"/write/activity-form/:workId?/:tagId?",component:function(){return Object(y.m)(n.e(22).then(n.bind(null,635)))},name:"write-activity-form-workId-tagId"},{path:"/article/:id?",component:function(){return Object(y.m)(n.e(4).then(n.bind(null,636)))},name:"article-id"},{path:"/novel/:id?",component:function(){return Object(y.m)(n.e(13).then(n.bind(null,616)))},name:"novel-id"},{path:"/users/:id?",component:function(){return Object(y.m)(Promise.all([n.e(0),n.e(20)]).then(n.bind(null,637)))},name:"users-id"},{path:"/world/:id?",component:function(){return Object(y.m)(n.e(21).then(n.bind(null,638)))},name:"world-id"},{path:"/",component:function(){return Object(y.m)(n.e(10).then(n.bind(null,613)))},name:"index"}],fallback:!1};function S(e,t){var base=t._app&&t._app.basePath||j.base,n=new w.a(_(_({},j),{},{base:base})),r=n.push;n.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,n=arguments.length>2?arguments[2]:void 0;return r.call(this,e,t,n)};var o=n.resolve.bind(n);return n.resolve=function(e,t,n){return"string"==typeof e&&(e=Object(x.c)(e)),o(e,t,n)},n}var R={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var n=t.parent,data=t.data,r=t.props,o=n.$createElement;data.nuxtChild=!0;for(var c=n,l=n.$nuxt.nuxt.transitions,d=n.$nuxt.nuxt.defaultTransition,h=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&h++,n=n.$parent;data.nuxtChildDepth=h;var f=l[h]||d,m={};C.forEach((function(e){void 0!==f[e]&&(m[e]=f[e])}));var v={};I.forEach((function(e){"function"==typeof f[e]&&(v[e]=f[e].bind(c))}));var w=v.beforeEnter;if(v.beforeEnter=function(e){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),w)return w.call(c,e)},!1===f.css){var x=v.leave;(!x||x.length<2)&&(v.leave=function(e,t){x&&x.call(c,e),c.$nextTick(t)})}var y=o("routerView",data);return r.keepAlive&&(y=o("keep-alive",{props:r.keepAliveProps},[y])),o("transition",{props:m,on:v},[y])}},C=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],I=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],$={name:"NuxtError",props:{error:{type:Object,default:null}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||"Error"}},head:function(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0"}]}}},z=(n(259),n(12)),P=Object(z.a)($,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"__nuxt-error-page"},[t("div",{staticClass:"error"},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[t("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),e._v(" "),t("div",{staticClass:"title"},[e._v(e._s(e.message))]),e._v(" "),404===e.statusCode?t("p",{staticClass:"description"},[void 0===e.$route?t("a",{staticClass:"error-link",attrs:{href:"/"}}):t("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[e._v("Back to the home page")])],1):e._e(),e._v(" "),e._m(0)])])}),[function(){var e=this._self._c;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"https://nuxtjs.org",target:"_blank",rel:"noopener"}},[this._v("Nuxt")])])}],!1,null,null,null).exports,E=n(5),T=(n(53),n(54),{name:"Nuxt",components:{NuxtChild:R,NuxtError:P},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(y.c)(this.$route.matched[0].path)(this.$route.params);var e=Object(E.a)(this.$route.matched,1)[0];if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var n=t.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){var t=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return t.errorFromNuxtError=!1})),e("div",{},[e("h2","An error occurred while showing the error page"),e("p","Unfortunately an error occurred and while showing the error page another error occurred"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return t.displayingNuxtError=!1})),e(P,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}}),N=(n(28),n(41),n(34),n(35),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!0}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0,e.reversed=!1}))}),500),this},fail:function(e){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100||e.percent<=0)&&(e.skipTimerCount=1,e.reversed=!e.reversed))}),100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}}),A=(n(261),Object(z.a)(N,undefined,undefined,!1,null,null,null).exports),M=(n(263),n(268),n(105),n(150),{props:{windowId:{type:String,required:!0},title:{type:String,default:"窗口"},url:{type:String,default:""}},data:function(){return{isDragging:!1,isResizing:!1,resizeType:null,startX:0,startY:0,startWidth:0,startHeight:0,lastPosition:null,animating:!1,animateClosing:!1,isClosingProp:!1}},computed:{window:function(){var e=this;return this.$windowManager.getWindows().find((function(t){return t.id===e.windowId}))||{}},isMinimized:function(){return this.window.isMinimized||!1},windowStyle:function(){var e=this.window,t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,c=e.width,l=void 0===c?800:c,d=e.height,h=void 0===d?600:d,f=e.zIndex,m=void 0===f?1e3:f;return{left:"".concat(n,"px"),top:"".concat(o,"px"),width:"".concat(l,"px"),height:"".concat(h,"px"),zIndex:m}},overlayStyle:function(){return this.isResizing?{cursor:"right"===this.resizeType?"e-resize":"bottom"===this.resizeType?"s-resize":"se-resize"}:this.isDragging?{cursor:"move"}:{}}},watch:{isMinimized:function(e,t){e&&!t&&this.saveWindowPosition()}},mounted:function(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)},beforeDestroy:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)},methods:{saveWindowPosition:function(){var e=this.window,t=e.x,n=e.y,r=e.width,o=e.height;this.lastPosition={x:t,y:n,width:r,height:o}},beforeEnter:function(e){if(this.animating=!0,this.lastPosition){if(document.querySelector(".minimized-bar")){var t=-this.window.x-this.window.width/2,n=window.screen.height-this.window.y-this.window.height/2;e.style.transform="translate(".concat(t,"px, ").concat(n,"px) scale(1)")}}else e.style.opacity="0",e.style.transform="scale(0.8)"},enter:function(e,t){var n=this;requestAnimationFrame((function(){requestAnimationFrame((function(){e.style.transition="all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",e.style.opacity="1",e.style.transform="translate(0, 0) scale(1)",setTimeout((function(){e.style.transition="",n.animating=!1,n.lastPosition=null,t()}),300)}))}))},leave:function(e,t){var n=this;if(this.animating=!0,this.saveWindowPosition(),document.querySelector(".minimized-bar")&&this.isMinimized){var r=-this.window.x-this.window.width/2,o=window.screen.height-this.window.y-this.window.height/2;console.log(r,o),e.style.transition="all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",e.style.transform="translate(".concat(r,"px, ").concat(o,"px) scale(0)")}else e.style.transition="all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",e.style.transform="scale(0.8)",e.style.opacity="0";setTimeout((function(){n.animating=!1,t()}),300)},activateWindow:function(){this.animating||this.animateClosing||this.$windowManager.activateWindow(this.windowId)},minimizeWindow:function(){this.animating||this.animateClosing||this.$windowManager.minimizeWindow(this.windowId)},closeWindow:function(){var e=this;if(!this.animating&&!this.animateClosing){this.animateClosing=!0;var t=this.$el.querySelector(".floating-window");t?(t.style.transition="all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",t.style.opacity="0",t.style.transform="scale(0.8)",setTimeout((function(){e.isClosingProp=!0,e.$nextTick((function(){e.$windowManager.closeWindow(e.windowId)}))}),300)):this.$windowManager.closeWindow(this.windowId)}},startDrag:function(e){this.animating||this.animateClosing||(this.isDragging=!0,this.startX=e.clientX,this.startY=e.clientY,e.preventDefault())},startResize:function(e,t){this.animating||this.animateClosing||(this.isResizing=!0,this.resizeType=e,this.startX=t.clientX,this.startY=t.clientY,this.startWidth=this.window.width,this.startHeight=this.window.height,document.body.style.cursor="right"===e?"e-resize":"bottom"===e?"s-resize":"se-resize",t.preventDefault())},onMouseMove:function(e){if(this.isDragging){var t=e.clientX-this.startX,n=e.clientY-this.startY;this.startX=e.clientX,this.startY=e.clientY,this.$windowManager.updateWindowPosition(this.windowId,this.window.x+t,this.window.y+n)}else if(this.isResizing){var r=e.clientX-this.startX,o=e.clientY-this.startY;"right"!==this.resizeType&&"corner"!==this.resizeType||this.$windowManager.updateWindowSize(this.windowId,this.startWidth+r,"corner"===this.resizeType?this.startHeight+o:this.window.height),"bottom"!==this.resizeType&&"corner"!==this.resizeType||this.$windowManager.updateWindowSize(this.windowId,"corner"===this.resizeType?this.startWidth+r:this.window.width,this.startHeight+o)}},onMouseUp:function(){(this.isDragging||this.isResizing)&&(this.isDragging=!1,this.isResizing=!1,this.resizeType=null,document.body.style.cursor="")}}}),D=(n(271),Object(z.a)(M,(function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"window-animation",appear:""},on:{"before-enter":e.beforeEnter,enter:e.enter,leave:e.leave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isMinimized,expression:"!isMinimized"}],staticClass:"floating-window",class:{"is-closing":e.animateClosing},style:e.windowStyle,on:{mousedown:e.activateWindow}},[t("div",{staticClass:"window-header",class:{dragging:e.isDragging},on:{mousedown:e.startDrag}},[t("div",{staticClass:"window-title"},[e._v(e._s(e.title))]),e._v(" "),t("div",{staticClass:"window-controls"},[t("button",{staticClass:"control-btn minimize-btn",on:{click:function(t){return t.stopPropagation(),e.minimizeWindow.apply(null,arguments)}}},[t("i",{staticClass:"el-icon-minus"})]),e._v(" "),t("button",{staticClass:"control-btn close-btn",on:{click:function(t){return t.stopPropagation(),e.closeWindow.apply(null,arguments)}}},[t("i",{staticClass:"el-icon-close"})])])]),e._v(" "),t("div",{staticClass:"window-content"},[e.url?t("iframe",{staticClass:"window-iframe",attrs:{src:e.url,frameborder:"0"}}):e._t("default"),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isResizing||e.isDragging,expression:"isResizing || isDragging"}],staticClass:"iframe-overlay",style:e.overlayStyle})],2),e._v(" "),t("div",{staticClass:"resize-handle resize-handle-right",on:{mousedown:function(t){return t.stopPropagation(),function(t){return e.startResize("right",t)}.apply(null,arguments)}}}),e._v(" "),t("div",{staticClass:"resize-handle resize-handle-bottom",on:{mousedown:function(t){return t.stopPropagation(),function(t){return e.startResize("bottom",t)}.apply(null,arguments)}}}),e._v(" "),t("div",{staticClass:"resize-handle resize-handle-corner",on:{mousedown:function(t){return t.stopPropagation(),function(t){return e.startResize("corner",t)}.apply(null,arguments)}}})])])}),[],!1,null,"35419b22",null)),L=D.exports,J={computed:{minimizedWindows:function(){return this.$windowManager.getMinimizedWindows()},hasMinimizedWindows:function(){return this.minimizedWindows.length>0}},methods:{restoreWindow:function(e){this.$windowManager.restoreWindow(e)}}},U=(n(273),{components:{FloatingWindow:L,WindowMinimizedBar:Object(z.a)(J,(function(){var e=this,t=e._self._c;return e.hasMinimizedWindows?t("div",{staticClass:"minimized-bar"},[t("transition-group",{attrs:{name:"minimize-animation"}},e._l(e.minimizedWindows,(function(n){return t("div",{key:n.id,staticClass:"minimized-window",attrs:{title:n.title},on:{click:function(t){return e.restoreWindow(n.id)}}},[t("i",{staticClass:"el-icon-document"})])})),0)],1):e._e()}),[],!1,null,"7a62759e",null).exports},computed:{windows:function(){return this.$windowManager.getWindows()}}}),W=(n(275),Object(z.a)(U,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"window-manager"},[e._l(e.windows,(function(e){return t("FloatingWindow",{key:e.id,attrs:{windowId:e.id,title:e.title,url:e.url}})})),e._v(" "),t("WindowMinimizedBar")],2)}),[],!1,null,"0a2c6b19",null).exports),B=n(216),H={name:"default",components:{WindowManager:W},data:function(){return{isLogin:!1,userInfo:null,checkTimer:null,searchKeyword:"",isSearchFocused:!1,showSearchDropdown:!1,searchHistory:[],hotSearches:[],searchResults:{circles:[],posts:[],users:[],books:[]},isSearching:!1,searchTimer:null}},computed:{noResults:function(){if(!this.searchKeyword)return!1;var e=this.searchResults,t=e.circles,n=e.posts,r=e.users,o=e.books;return 0===t.length&&0===n.length&&0===r.length&&0===o.length}},mounted:function(){var e=this;B.a.start(),this.checkLoginStatus(),this.checkTimer=setInterval((function(){e.checkLoginStatus()}),5e3),window.addEventListener("storage",this.onStorageChange),window.addEventListener("auth-state-changed",this.checkLoginStatus),this.loadSearchHistory(),this.getHotSearches()},beforeDestroy:function(){this.checkTimer&&clearInterval(this.checkTimer),window.removeEventListener("storage",this.onStorageChange),window.removeEventListener("auth-state-changed",this.checkLoginStatus)},methods:{checkLoginStatus:function(){try{if(localStorage.getItem("token")){if(this.isLogin=!0,!this.userInfo){var e=localStorage.getItem("LogHomeUserInfo");e?(this.userInfo=JSON.parse(e),console.log("从本地缓存加载用户信息")):this.fetchUserInfo()}}else this.isLogin=!1,this.userInfo=null}catch(e){console.error("检查登录状态错误",e)}},fetchUserInfo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.users.getUserProfile();case 3:e.userInfo=t.sent,t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("获取用户信息失败:",t.t0),t.t0.response&&401===t.t0.response.status&&(localStorage.removeItem("token"),e.isLogin=!1,e.userInfo=null);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},onStorageChange:function(e){"token"===e.key&&this.checkLoginStatus()},handleCommand:function(e){switch(e){case"profile":this.$router.push("/me");break;case"myworks":this.$router.push("/users/works");break;case"bookcase":this.$router.push("/users/bookcase");break;case"logout":this.logout()}},logout:function(){localStorage.removeItem("token"),localStorage.removeItem("LogHomeUserInfo"),this.isLogin=!1,this.userInfo=null,this.$message.success("已退出登录"),this.$router.push("/")},onSearchInput:function(){var e=this;this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout((function(){e.searchKeyword.trim()&&e.search()}),300)},onSearchFocus:function(){this.isSearchFocused=!0,this.showSearchDropdown=!0,this.loadSearchHistory(),this.getHotSearches()},onSearchBlur:function(){var e=this;setTimeout((function(){e.isSearchFocused=!1,e.showSearchDropdown=!1}),200)},clearKeyword:function(){this.searchKeyword="",this.showSearchDropdown=!1},handleSearch:function(){this.searchKeyword.trim()&&(this.saveSearchHistory(this.searchKeyword.trim()),this.$router.push({path:"/search",query:{keyword:this.searchKeyword.trim()}}),this.showSearchDropdown=!1)},searchWithKeyword:function(e){this.searchKeyword=e,this.saveSearchHistory(e),this.$router.push({path:"/search",query:{keyword:e}}),this.showSearchDropdown=!1},switchSearchType:function(e){this.searchType=e,this.hasSearched&&this.search()},search:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isSearching&&e.searchKeyword.trim()){t.next=2;break}return t.abrupt("return");case 2:return e.isSearching=!0,t.prev=3,t.next=6,Promise.all([e.searchBooks(),e.searchPosts(),e.searchCircles(),e.searchUsers()]);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.error("搜索失败:",t.t0);case 11:return t.prev=11,e.isSearching=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[3,8,11,14]])})))()},searchBooks:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.search.searchNovels({keyword:e.searchKeyword,page:1,limit:3});case 3:n=t.sent,e.searchResults.books=n.list||[],t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("搜索书籍失败:",t.t0),e.searchResults.books=[];case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},searchPosts:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.search.searchPosts({keyword:e.searchKeyword,page:1,limit:3});case 3:n=t.sent,e.searchResults.posts=n.list||[],t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("搜索帖子失败:",t.t0),e.searchResults.posts=[];case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},searchCircles:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.search.searchCircles({keyword:e.searchKeyword,page:1,limit:3});case 3:n=t.sent,e.searchResults.circles=n.list||[],t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("搜索圈子失败:",t.t0),e.searchResults.circles=[];case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},searchUsers:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.search.searchUsers({keyword:e.searchKeyword,page:1,limit:3});case 3:n=t.sent,e.searchResults.users=n.list||[],t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("搜索用户失败:",t.t0),e.searchResults.users=[];case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},saveSearchHistory:function(e){if(e&&""!==e.trim()){var t=JSON.parse(localStorage.getItem("searchHistory")||"[]");(t=t.filter((function(t){return t!==e}))).unshift(e),t=t.slice(0,10),localStorage.setItem("searchHistory",JSON.stringify(t)),this.searchHistory=t}},loadSearchHistory:function(){this.searchHistory=JSON.parse(localStorage.getItem("searchHistory")||"[]")},clearSearchHistory:function(){localStorage.removeItem("searchHistory"),this.searchHistory=[]},getHotSearches:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.search.getHotSearches();case 3:e.hotSearches=t.sent,t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("获取热门搜索失败:",t.t0),e.hotSearches=[{keyword:"修仙"},{keyword:"都市"},{keyword:"玄幻"},{keyword:"言情"},{keyword:"历史"}];case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},formatTime:function(e){if(!e)return"";var t=new Date(e),n=new Date-t;return n<6e4?"刚刚":n<36e5?Math.floor(n/6e4)+"分钟前":n<864e5?Math.floor(n/36e5)+"小时前":Math.floor(n/864e5)+"天前"},viewAllResults:function(e){this.$router.push({path:"/search",query:{keyword:this.searchKeyword,type:e}}),this.showSearchDropdown=!1},searchInPage:function(){this.$router.push({path:"/search",query:{keyword:this.searchKeyword}}),this.showSearchDropdown=!1},navigateToBook:function(e,t){"world"===t?this.$router.push("/world/".concat(e)):this.$router.push("/novel/".concat(e)),this.showSearchDropdown=!1},navigateToPost:function(e){this.$router.push("/community/post/".concat(e)),this.showSearchDropdown=!1},navigateToCircle:function(e){this.$router.push("/community/circle/".concat(e)),this.showSearchDropdown=!1},navigateToUser:function(e){this.$router.push("/users/".concat(e)),this.showSearchDropdown=!1}}},K=H,F=(n(277),Object(z.a)(K,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"outer"},[t("nav",{staticClass:"navbar"},[t("div",{staticClass:"navbar-container"},[t("div",{staticClass:"navbar-left"},[t("nuxt-link",{staticClass:"logo",attrs:{to:"/"}},[t("img",{staticClass:"logo-img",attrs:{src:n(229),alt:"原木社区"}}),e._v(" "),t("img",{staticClass:"logo-text",attrs:{src:n(270),alt:"原木社区"}})])],1),e._v(" "),t("div",{staticClass:"navbar-center"},[t("nuxt-link",{staticClass:"nav-link",attrs:{to:"/read","exact-active-class":"nav-link-active"}},[e._v("阅读")]),e._v(" "),t("nuxt-link",{staticClass:"nav-link",attrs:{to:"/write","exact-active-class":"nav-link-active"}},[e._v("写作")]),e._v(" "),t("nuxt-link",{staticClass:"nav-link",attrs:{to:"/community","exact-active-class":"nav-link-active"}},[e._v("社区")])],1),e._v(" "),t("div",{staticClass:"navbar-right"},[t("div",{staticClass:"search-box",class:{active:e.isSearchFocused}},[t("i",{staticClass:"el-icon-search search-icon"}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKeyword,expression:"searchKeyword"}],ref:"searchInput",staticClass:"search-input",attrs:{type:"text",placeholder:"全站搜索..."},domProps:{value:e.searchKeyword},on:{input:[function(t){t.target.composing||(e.searchKeyword=t.target.value)},e.onSearchInput],focus:e.onSearchFocus,blur:e.onSearchBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}}}),e._v(" "),e.searchKeyword?t("i",{staticClass:"el-icon-close search-clear",on:{click:e.clearKeyword}}):e._e()]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSearchDropdown,expression:"showSearchDropdown"}],staticClass:"search-dropdown"},[e.searchHistory.length>0&&!e.searchKeyword?t("div",{staticClass:"search-section"},[t("div",{staticClass:"section-header"},[t("span",{staticClass:"section-title"},[e._v("搜索历史")]),e._v(" "),t("button",{staticClass:"clear-btn",on:{click:e.clearSearchHistory}},[t("i",{staticClass:"el-icon-delete"})])]),e._v(" "),t("div",{staticClass:"history-list"},e._l(e.searchHistory,(function(n,r){return t("div",{key:"history-"+r,staticClass:"history-item",on:{click:function(t){return e.searchWithKeyword(n)}}},[t("i",{staticClass:"el-icon-time"}),e._v(" "),t("span",[e._v(e._s(n))])])})),0)]):e._e(),e._v(" "),e.hotSearches.length>0&&!e.searchKeyword?t("div",{staticClass:"search-section"},[e._m(0),e._v(" "),t("div",{staticClass:"hot-list"},e._l(e.hotSearches,(function(n,r){return t("span",{key:"hot-"+r,staticClass:"hot-item",on:{click:function(t){return e.searchWithKeyword(n.keyword)}}},[e._v("\n                "+e._s(n.keyword)+"\n              ")])})),0)]):e._e(),e._v(" "),e.searchKeyword&&(e.searchResults.books.length>0||e.searchResults.posts.length>0||e.searchResults.circles.length>0||e.searchResults.users.length>0)?t("div",{staticClass:"search-results"},[e.searchResults.books.length>0?t("div",{staticClass:"result-section"},[t("div",{staticClass:"section-header"},[t("span",{staticClass:"section-title"},[e._v("书籍")]),e._v(" "),t("span",{staticClass:"view-all",on:{click:function(t){return e.viewAllResults("books")}}},[e._v("查看全部")])]),e._v(" "),t("div",{staticClass:"book-results"},e._l(e.searchResults.books.slice(0,3),(function(n,r){return t("div",{key:"book-"+r,staticClass:"book-item",on:{click:function(t){return e.navigateToBook(n.novel_id)}}},[t("img",{staticClass:"book-cover",attrs:{src:n.picUrl+"?thumbnail=1",alt:n.name}}),e._v(" "),t("div",{staticClass:"book-info"},[t("div",{staticClass:"book-title"},[e._v(e._s(n.name))]),e._v(" "),t("div",{staticClass:"book-author"},[e._v(e._s(n.author_name))])])])})),0)]):e._e(),e._v(" "),e.searchResults.posts.length>0?t("div",{staticClass:"result-section"},[t("div",{staticClass:"section-header"},[t("span",{staticClass:"section-title"},[e._v("帖子")]),e._v(" "),t("span",{staticClass:"view-all",on:{click:function(t){return e.viewAllResults("posts")}}},[e._v("查看全部")])]),e._v(" "),t("div",{staticClass:"post-results"},e._l(e.searchResults.posts.slice(0,3),(function(n,r){return t("div",{key:"post-"+r,staticClass:"post-item",on:{click:function(t){return e.navigateToPost(n.post_id)}}},[t("div",{staticClass:"post-title"},[e._v(e._s(n.title))]),e._v(" "),t("div",{staticClass:"post-meta"},[t("span",{staticClass:"post-author"},[e._v(e._s(n.author_name))]),e._v(" "),t("span",{staticClass:"post-time"},[e._v(e._s(e.formatTime(n.create_time)))])])])})),0)]):e._e(),e._v(" "),e.searchResults.circles.length>0?t("div",{staticClass:"result-section"},[t("div",{staticClass:"section-header"},[t("span",{staticClass:"section-title"},[e._v("圈子")]),e._v(" "),t("span",{staticClass:"view-all",on:{click:function(t){return e.viewAllResults("circles")}}},[e._v("查看全部")])]),e._v(" "),t("div",{staticClass:"circle-results"},e._l(e.searchResults.circles.slice(0,3),(function(circle,n){return t("div",{key:"circle-"+n,staticClass:"circle-item",on:{click:function(t){return e.navigateToCircle(circle.circle_id)}}},[t("img",{staticClass:"circle-icon",attrs:{src:circle.icon||"/default-circle.png",alt:circle.name}}),e._v(" "),t("div",{staticClass:"circle-info"},[t("div",{staticClass:"circle-name"},[e._v(e._s(circle.name))]),e._v(" "),t("div",{staticClass:"circle-meta"},[e._v(e._s(circle.member_count||0)+"人")])])])})),0)]):e._e(),e._v(" "),e.searchResults.users.length>0?t("div",{staticClass:"result-section"},[t("div",{staticClass:"section-header"},[t("span",{staticClass:"section-title"},[e._v("用户")]),e._v(" "),t("span",{staticClass:"view-all",on:{click:function(t){return e.viewAllResults("users")}}},[e._v("查看全部")])]),e._v(" "),t("div",{staticClass:"user-results"},e._l(e.searchResults.users.slice(0,3),(function(n,r){return t("div",{key:"user-"+r,staticClass:"user-item",on:{click:function(t){return e.navigateToUser(n.user_id)}}},[t("img",{staticClass:"user-avatar",attrs:{src:n.avatar_url||"/default-avatar.png",alt:n.name}}),e._v(" "),t("div",{staticClass:"user-info"},[t("div",{staticClass:"user-name"},[e._v(e._s(n.name||"匿名用户"))]),e._v(" "),t("div",{staticClass:"user-motto"},[e._v(e._s(n.motto||"这个人很懒，还没有设置个性签名"))])])])})),0)]):e._e()]):e._e(),e._v(" "),e.searchKeyword&&e.noResults?t("div",{staticClass:"no-results"},[e._m(1),e._v(" "),t("div",{staticClass:"no-results-text"},[e._v("\n              没有找到相关内容\n            ")]),e._v(" "),t("div",{staticClass:"search-all-btn",on:{click:e.searchInPage}},[e._v("\n              在搜索页面中查看\n            ")])]):e._e()]),e._v(" "),e.isLogin?t("div",{staticClass:"user-actions"},[t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[t("div",{staticClass:"user-profile"},[t("img",{staticClass:"user-avatar",attrs:{src:e.userInfo&&e.userInfo.avatar_url?e.userInfo.avatar_url:"/default-avatar.png"}}),e._v(" "),t("span",{staticClass:"user-nickname"},[e._v(e._s(e.userInfo&&e.userInfo.name||"用户"))]),e._v(" "),t("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"profile"}},[e._v("个人中心")]),e._v(" "),t("el-dropdown-item",{attrs:{command:"myworks"}},[e._v("我的作品")]),e._v(" "),t("el-dropdown-item",{attrs:{command:"bookcase"}},[e._v("我的书架")]),e._v(" "),t("el-dropdown-item",{attrs:{divided:"",command:"logout"}},[e._v("退出登录")])],1)],1)],1):t("div",{staticClass:"user-actions"},[t("nuxt-link",{staticClass:"user-link",attrs:{to:"/login"}},[e._v("登录")])],1)])])]),e._v(" "),t("main",{staticClass:"main-content"},[t("nuxt")],1),e._v(" "),e._m(2),e._v(" "),t("WindowManager")],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"section-header"},[e("span",{staticClass:"section-title"},[this._v("热门搜索")])])},function(){var e=this._self._c;return e("div",{staticClass:"no-results-icon"},[e("i",{staticClass:"el-icon-search"})])},function(){var e=this._self._c;return e("footer",{staticClass:"site-footer"},[e("div",{staticClass:"footer-container"},[e("p",[this._v("© 2023 原木社区 版权所有")])])])}],!1,null,"26dd10f5",null)),X=F.exports,Y={name:"EmptyLayout"},Q=(n(279),Object(z.a)(Y,(function(){var e=this._self._c;return e("div",[e("nuxt")],1)}),[],!1,null,null,null).exports);function V(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return G(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?G(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function G(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}var Z={_default:Object(y.s)(X),_empty:Object(y.s)(Q)},ee={render:function(e,t){var n=e("NuxtLoading",{ref:"loading"}),r=e(this.layout||"nuxt"),o=e("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[o]);return e("div",{domProps:{id:"__nuxt"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:"",nbFetching:0}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){this.$root.$options.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$loading=e.$refs.loading;case 1:case"end":return t.stop()}}),t)})))()},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline},isFetching:function(){return this.nbFetching>0}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=Object(y.h)(e.$route)).length){t.next=3;break}return t.abrupt("return");case 3:return e.$loading.start(),r=n.map((function(t){var p=[];if(t.$options.fetch&&t.$options.fetch.length&&p.push(Object(y.q)(t.$options.fetch,e.context)),t.$fetch)p.push(t.$fetch());else{var n,r=V(Object(y.e)(t.$vnode.componentInstance));try{for(r.s();!(n=r.n()).done;){var component=n.value;p.push(component.$fetch())}}catch(e){r.e(e)}finally{r.f()}}return t.$options.asyncData&&p.push(Object(y.q)(t.$options.asyncData,e.context).then((function(e){for(var n in e)c.default.set(t.$data,n,e[n])}))),Promise.all(p)})),t.prev=5,t.next=8,Promise.all(r);case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(5),e.$loading.fail(t.t0),Object(y.k)(t.t0),e.error(t.t0);case 15:e.$loading.finish();case 16:case"end":return t.stop()}}),t,null,[[5,10]])})))()},errorChanged:function(){if(this.nuxt.err){this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish());var e=(P.options||P).layout;"function"==typeof e&&(e=e(this.context)),this.setLayout(e)}},setLayout:function(e){return e&&Z["_"+e]||(e="default"),this.layoutName=e,this.layout=Z["_"+e],this.layout},loadLayout:function(e){return e&&Z["_"+e]||(e="default"),Promise.resolve(Z["_"+e])}},components:{NuxtLoading:A}};c.default.use(l.a);var te={};(te=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),function(e,t){if(e.state&&"function"!=typeof e.state){console.warn("'state' should be a method that returns an object in ".concat(t));var n=Object.assign({},e.state);e=Object.assign({},e,{state:function(){return n}})}return e}(e,t)}(n(281),"store/index.js")).modules=te.modules||{};var ne=te instanceof Function?te:function(){return new l.a.Store(Object.assign({strict:!1},te))};var re=n(72),oe=n.n(re),ae=n(217);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return ue(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ue(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function ue(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}for(var le={setBaseURL:function(e){this.defaults.baseURL=e},setHeader:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",o=ce(Array.isArray(r)?r:[r]);try{for(o.s();!(n=o.n()).done;){var c=n.value;t?this.defaults.headers[c][e]=t:delete this.defaults.headers[c][e]}}catch(e){o.e(e)}finally{o.f()}},setToken:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",r=e?(t?t+" ":"")+e:null;this.setHeader("Authorization",r,n)},onRequest:function(e){this.interceptors.request.use((function(t){return e(t)||t}))},onResponse:function(e){this.interceptors.response.use((function(t){return e(t)||t}))},onRequestError:function(e){this.interceptors.request.use(void 0,(function(t){return e(t)||Promise.reject(t)}))},onResponseError:function(e){this.interceptors.response.use(void 0,(function(t){return e(t)||Promise.reject(t)}))},onError:function(e){this.onRequestError(e),this.onResponseError(e)},create:function(e){return $e(Object(ae.a)(e,this.defaults))}},pe=function(){var e=he[de];le["$"+e]=function(){return this[e].apply(this,arguments).then((function(e){return e&&e.data}))}},de=0,he=["request","delete","get","head","options","post","put","patch"];de<he.length;de++)pe();var fe,me,ge,ve,we,be,xe,ye,ke,_e,Oe,je,Se,Re,Ce,Ie,$e=function(e){var t=oe.a.create(e);return t.CancelToken=oe.a.CancelToken,t.isCancel=oe.a.isCancel,function(e){for(var t in le)e[t]=le[t].bind(e)}(t),t.onRequest((function(e){e.headers=ie(ie({},t.defaults.headers.common),e.headers)})),ze(t),Pe(t),t},ze=function(e){e.onRequest((function(e){void 0===e.withCredentials&&(/^https?:\/\//i.test(e.url)&&0!==e.url.indexOf(e.baseURL)||(e.withCredentials=!0))}))},Pe=function(e){var t={finish:function(){},start:function(){},fail:function(){},set:function(){}},n=function(){var e="undefined"!=typeof window&&window.$nuxt;return e&&e.$loading&&e.$loading.set?e.$loading:t},r=0;e.onRequest((function(e){e&&!1===e.progress||r++})),e.onResponse((function(e){e&&e.config&&!1===e.config.progress||--r<=0&&(r=0,n().finish())})),e.onError((function(e){e&&e.config&&!1===e.config.progress||(r--,oe.a.isCancel(e)?r<=0&&(r=0,n().finish()):(n().fail(),n().finish()))}));var o=function(e){if(r&&e.total){var progress=100*e.loaded/(e.total*r);n().set(Math.min(100,progress))}};e.defaults.onUploadProgress=o,e.defaults.onDownloadProgress=o},Ee=function(e,t){var n=e.$config&&e.$config.axios||{},r=n.browserBaseURL||n.browserBaseUrl||n.baseURL||n.baseUrl||"http://localhost:3000/";var o=$e({baseURL:r,headers:{common:{Accept:"application/json, text/plain, */*"},delete:{},get:{},head:{},post:{},put:{},patch:{}}});e.$axios=o,t("axios",o)},Te={getAllNovels:(Ie=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_novels_all"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取小说列表失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(){return Ie.apply(this,arguments)}),searchNovels:(Ce=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_novels_search?keyword=").concat(encodeURIComponent(t)));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("搜索小说失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Ce.apply(this,arguments)}),getNovelById:(Re=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_novel_by_id?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取小说详情失败:",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Re.apply(this,arguments)}),getNovelTags:(Se=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_novel_tags?novel_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取小说标签失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Se.apply(this,arguments)}),getAllTags:(je=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_all_tags"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取所有标签失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(){return je.apply(this,arguments)}),getTagCollections:(Oe=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_tag_collections?tag_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取标签相关小说失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Oe.apply(this,arguments)}),getTagInfo:(_e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_tag_info?tag_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取标签信息失败:",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return _e.apply(this,arguments)}),getLibraryRoulousChart:(ke=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_library_roulous_chart"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取轮播图数据失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(){return ke.apply(this,arguments)}),getBanners:(ye=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_banners?page=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取Banner数据失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return ye.apply(this,arguments)}),getLibraryCollections:(xe=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/recommand/get_library_collections"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取推荐集合失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(){return xe.apply(this,arguments)}),getCollectionNovels:(be=Object(r.a)(regeneratorRuntime.mark((function e(title){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:1,n=o.length>2&&void 0!==o[2]?o[2]:10,e.prev=2,e.next=5,fetch("".concat("https://loghomeservice.codesocean.top","/library/recommand/get_library_recommend_titles?title=").concat(encodeURIComponent(title),"&page=").concat(t,"&amount=").concat(n));case 5:return r=e.sent,e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(2),console.error("获取集合 ".concat(title," 的小说失败:"),e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e){return be.apply(this,arguments)}),getNicesById:(we=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_nices_by_id?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取点赞数失败:",e.t0),e.abrupt("return",[{nices:0}]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return we.apply(this,arguments)}),getNiceStatus:(ve=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}return e.abrupt("return",[{nices:0}]);case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_nice_status?id=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.error("获取点赞状态失败:",e.t0),e.abrupt("return",[{nices:0}]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return ve.apply(this,arguments)}),niceNovel:(ge=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/library/nice_novel?id=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("点赞小说失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return ge.apply(this,arguments)}),checkNovelRank:(me=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/recommand/check_novel_rank?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取小说排名信息失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return me.apply(this,arguments)}),getNovelFans:(fe=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_all_novel_fans?novel_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取粉丝信息失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return fe.apply(this,arguments)})},Ne=Te;function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De,Le,Je,Ue,We,Be,qe,He,Ke,Fe,Xe,Ye,Qe,Ve,Ge,Ze,et,tt,nt,ot,at,st,it,ct,ut,lt,pt,ht,ft,mt,gt,vt,wt,bt,xt,yt,kt,_t,Ot,jt,St,Rt,Ct,It,$t,zt,Pt,Et,Tt,Nt,At,Mt,Dt,Lt,Jt,Ut,Wt,Bt,qt,Ht,Kt,Ft,Xt,Yt,Qt,Vt,Gt,Zt,en,tn,nn,rn,on,an,sn,cn,un,ln,pn,dn,hn,fn,mn,gn,vn,wn={searchNovels:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null,r=n?{Authorization:"Bearer ".concat(n)}:{},e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/search?").concat(new URLSearchParams(Me(Me({},t),{},{type:"books"}))),{headers:r});case 6:return o=e.sent,e.next=9,o.json();case 9:return c=e.sent,e.abrupt("return",c.results?c.results.books:{list:[],total:0});case 13:return e.prev=13,e.t0=e.catch(1),console.error("搜索小说失败:",e.t0),e.abrupt("return",{list:[],total:0});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),searchPosts:(Ue=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null,r=n?{Authorization:"Bearer ".concat(n)}:{},e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/search?").concat(new URLSearchParams(Me(Me({},t),{},{type:"posts"}))),{headers:r});case 6:return o=e.sent,e.next=9,o.json();case 9:return c=e.sent,e.abrupt("return",c.results?c.results.posts:{list:[],total:0});case 13:return e.prev=13,e.t0=e.catch(1),console.error("搜索帖子失败:",e.t0),e.abrupt("return",{list:[],total:0});case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return Ue.apply(this,arguments)}),searchCircles:(Je=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null,r=n?{Authorization:"Bearer ".concat(n)}:{},e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/search?").concat(new URLSearchParams(Me(Me({},t),{},{type:"circles"}))),{headers:r});case 6:return o=e.sent,e.next=9,o.json();case 9:return c=e.sent,e.abrupt("return",c.results?c.results.circles:{list:[],total:0});case 13:return e.prev=13,e.t0=e.catch(1),console.error("搜索圈子失败:",e.t0),e.abrupt("return",{list:[],total:0});case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return Je.apply(this,arguments)}),searchUsers:(Le=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null,r=n?{Authorization:"Bearer ".concat(n)}:{},e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/search?").concat(new URLSearchParams(Me(Me({},t),{},{type:"users"}))),{headers:r});case 6:return o=e.sent,e.next=9,o.json();case 9:return c=e.sent,e.abrupt("return",c.results?c.results.users:{list:[],total:0});case 13:return e.prev=13,e.t0=e.catch(1),console.error("搜索用户失败:",e.t0),e.abrupt("return",{list:[],total:0});case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return Le.apply(this,arguments)}),getHotSearches:(De=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/community/search/hot?category=all&limit=8"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n||[]);case 10:return e.prev=10,e.t0=e.catch(0),console.error("获取热门搜索失败:",e.t0),e.abrupt("return",[{keyword:"修仙"},{keyword:"都市"},{keyword:"玄幻"},{keyword:"言情"},{keyword:"历史"},{keyword:"科幻"},{keyword:"悬疑"},{keyword:"武侠"}]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(){return De.apply(this,arguments)})},bn=wn,xn={getArticles:(He=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_articles?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取章节列表失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return He.apply(this,arguments)}),getLatestArticles:(qe=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_latest_articles?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取最新章节失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return qe.apply(this,arguments)}),getArticle:(Be=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/articles/get_article?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取章节内容失败:",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Be.apply(this,arguments)}),getArticleCommentAmount:(We=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/articles/get_article_comment_amount?article_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取章节评论数量失败:",e.t0),e.abrupt("return",{count:0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return We.apply(this,arguments)})},yn=xn,kn={novelClicked:(Fe=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/articles/novel_clicked?id=").concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error("记录阅读统计失败:",e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(e){return Fe.apply(this,arguments)}),getNovelStatistics:(Ke=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/articles/get_novel_statistics?novel_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取小说统计数据失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Ke.apply(this,arguments)})},_n=kn,On=n(148),jn=["post_id"],Sn=["circle_id"],Rn={getMyCircles:($t=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/circles/my-circles"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:if((n=e.sent).ok){e.next=9;break}throw new Error("获取我的圈子失败");case 9:return e.next=11,n.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),console.error("获取我的圈子失败:",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return $t.apply(this,arguments)}),getPostDetail:(It=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,n=t.post_id){e.next=5;break}throw new Error("缺少必要参数post_id");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/posts/detail/").concat(n));case 7:return r=e.sent,e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("获取帖子详情失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return It.apply(this,arguments)}),getCircleMyStatus:(Ct=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},e.prev=1,n=t.circle_id){e.next=5;break}throw new Error("缺少必要参数circle_id");case 5:if(r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,fetch("".concat("https://loghomeservice.codesocean.top","/community/circles/").concat(n,"/my-status"),{headers:{Authorization:"Bearer ".concat(r)}});case 10:if((o=e.sent).ok){e.next=16;break}return e.next=14,o.json().catch((function(){return{message:o.statusText}}));case 14:throw c=e.sent,new Error(c.message||"获取圈子状态失败");case 16:return e.next=18,o.json();case 18:return e.abrupt("return",e.sent);case 21:throw e.prev=21,e.t0=e.catch(1),console.error("获取圈子状态失败:",e.t0),e.t0;case 25:case"end":return e.stop()}}),e,null,[[1,21]])}))),function(){return Ct.apply(this,arguments)}),createPost:(Rt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/posts/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 6:return r=e.sent,e.next=9,r.json();case 9:if(o=e.sent,r.ok){e.next=12;break}throw new Error(o.message||"发布帖子失败");case 12:return e.abrupt("return",o);case 15:throw e.prev=15,e.t0=e.catch(0),console.error("发布帖子失败:",e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),function(e){return Rt.apply(this,arguments)}),updatePost:(St=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.post_id,data=Object(On.a)(t,jn),n){e.next=4;break}throw new Error("缺少必要参数post_id");case 4:if(r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=7;break}throw new Error("用户未登录");case 7:return e.next=9,fetch("".concat("https://loghomeservice.codesocean.top","/community/posts/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(data)});case 9:return o=e.sent,e.next=12,o.json();case 12:if(c=e.sent,o.ok){e.next=15;break}throw new Error(c.message||"更新帖子失败");case 15:return e.abrupt("return",c);case 18:throw e.prev=18,e.t0=e.catch(0),console.error("更新帖子失败:",e.t0),e.t0;case 22:case"end":return e.stop()}}),e,null,[[0,18]])}))),function(e){return St.apply(this,arguments)}),deletePost:(jt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("缺少必要参数post_id");case 3:if(n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=6;break}throw new Error("用户未登录");case 6:return e.next=8,fetch("".concat("https://loghomeservice.codesocean.top","/community/posts/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}});case 8:return r=e.sent,e.next=11,r.json();case 11:if(o=e.sent,r.ok){e.next=14;break}throw new Error(o.message||"删除帖子失败");case 14:return e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(0),console.error("删除帖子失败:",e.t0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))),function(e){return jt.apply(this,arguments)}),getComments:(Ot=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l,d,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:{},e.prev=1,n=t.post_id,r=t.page,o=void 0===r?1:r,c=t.pageSize,l=void 0===c?20:c,n){e.next=5;break}throw new Error("缺少必要参数post_id");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/comments/list?post_id=").concat(n,"&page=").concat(o,"&pageSize=").concat(l));case 7:return d=e.sent,e.next=10,d.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("获取帖子评论列表失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return Ot.apply(this,arguments)}),getCommentReplies:(_t=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l,d,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:{},e.prev=1,n=t.comment_id,r=t.page,o=void 0===r?1:r,c=t.pageSize,l=void 0===c?3:c,n){e.next=5;break}throw new Error("缺少必要参数comment_id");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/comments/replies?comment_id=").concat(n,"&page=").concat(o,"&pageSize=").concat(l));case 7:return d=e.sent,e.next=10,d.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("获取评论回复失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return _t.apply(this,arguments)}),getNovelCommentsAmount:(kt=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o="".concat("https://loghomeservice.codesocean.top","/community/novel_commonts_amount?id=").concat(t),n&&!r?o="".concat("https://loghomeservice.codesocean.top","/community/novel_commonts_amount?id=").concat(t,"&articleId=").concat(n):n&&r&&(o="".concat("https://loghomeservice.codesocean.top","/community/novel_commonts_amount?id=").concat(t,"&articleId=").concat(n,"&paragraphId=").concat(r)),e.next=5,fetch(o);case 5:return c=e.sent,e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),console.error("获取评论数量失败:",e.t0),e.abrupt("return",[{"COUNT(*)":0}]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t,n){return kt.apply(this,arguments)}),getNovelComments:(yt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/community/novel_commonts_all?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取评论失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return yt.apply(this,arguments)}),novel_commonts_reply_to:(xt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/community/novel_commonts_reply_to?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取评论回复失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return xt.apply(this,arguments)}),getArticleComments:(bt=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:1,o=l.length>3&&void 0!==l[3]?l[3]:10,e.prev=2,e.next=5,fetch("".concat("https://loghomeservice.codesocean.top","/community/novel_commonts_all?id=").concat(t,"&articleId=").concat(n,"&page=").concat(r,"&pageSize=").concat(o));case 5:return c=e.sent,e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(2),console.error("获取章节评论失败:",e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return bt.apply(this,arguments)}),getParagraphComments:(wt=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>3&&void 0!==d[3]?d[3]:1,c=d.length>4&&void 0!==d[4]?d[4]:10,e.prev=2,e.next=5,fetch("".concat("https://loghomeservice.codesocean.top","/community/novel_commonts_all?id=").concat(t,"&articleId=").concat(n,"&paragraphId=").concat(r,"&page=").concat(o,"&pageSize=").concat(c));case 5:return l=e.sent,e.next=8,l.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(2),console.error("获取段落评论失败:",e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t,n){return wt.apply(this,arguments)}),commentOnArticle:(vt=Object(r.a)(regeneratorRuntime.mark((function e(t,n,content){var r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>3&&void 0!==l[3]?l[3]:-1,e.prev=1,o=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}throw new Error("用户未登录");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/comment_on_novel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({novel_id:t,article_id:n,content:content,paragraph_id:r})});case 7:return c=e.sent,e.next=10,c.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("提交评论失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(e,t,n){return vt.apply(this,arguments)}),replyToComment:(gt=Object(r.a)(regeneratorRuntime.mark((function e(t,content){var n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>2&&void 0!==l[2]?l[2]:-1,r=l.length>3&&void 0!==l[3]?l[3]:0,e.prev=2,o=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=6;break}throw new Error("用户未登录");case 6:return e.next=8,fetch("".concat("https://loghomeservice.codesocean.top","/community/reply_to_novel_comment"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({essay_comment_id:t,content:content,fatherId:n,article_id:r})});case 8:return c=e.sent,e.next=11,c.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(2),console.error("回复评论失败:",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),function(e,t){return gt.apply(this,arguments)}),getCommentPraiseStatus:(mt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/get_comment_praise_status?essay_comment_id=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.error("获取评论点赞状态失败:",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return mt.apply(this,arguments)}),praiseComment:(ft=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/praise_on_comment"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({essay_comment_id:t,type:n})});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("操作评论点赞失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t){return ft.apply(this,arguments)}),deleteComment:(ht=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/delete_comment?id=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("删除评论失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return ht.apply(this,arguments)}),getRecommendCircles:(pt=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.next=4,fetch("".concat("https://loghomeservice.codesocean.top","/community/circles/list?").concat(new URLSearchParams(t)));case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),console.error("获取推荐圈子失败:",e.t0),e.abrupt("return",{list:[],total:0,has_more:!1});case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(){return pt.apply(this,arguments)}),getRecommendPosts:(lt=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.next=4,fetch("".concat("https://loghomeservice.codesocean.top","/community/posts/recommend?").concat(new URLSearchParams(t)));case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),console.error("获取推荐帖子失败:",e.t0),e.abrupt("return",{list:[],total:0,has_more:!1});case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(){return lt.apply(this,arguments)}),getLikeStatus:(ut=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}return e.abrupt("return",{liked:!1});case 5:return r=t.target_id,o=t.target_type,e.next=8,fetch("".concat("https://loghomeservice.codesocean.top","/community/interactions/like/status?target_id=").concat(r,"&target_type=").concat(o),{headers:{Authorization:"Bearer ".concat(n)}});case 8:return c=e.sent,e.next=11,c.json();case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(1),console.error("获取点赞状态失败:",e.t0),e.abrupt("return",{liked:!1});case 18:case"end":return e.stop()}}),e,null,[[1,14]])}))),function(){return ut.apply(this,arguments)}),likePost:(ct=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}throw new Error("用户未登录");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/interactions/like"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("点赞操作失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return ct.apply(this,arguments)}),likeTarget:(it=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}throw new Error("用户未登录");case 5:return r=t.target_id,o=t.target_type,e.next=8,fetch("".concat("https://loghomeservice.codesocean.top","/community/interactions/like"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({target_id:r,target_type:o})});case 8:return c=e.sent,e.next=11,c.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(1),console.error("点赞/取消点赞操作失败:",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,14]])}))),function(){return it.apply(this,arguments)}),createComment:(st=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}throw new Error("用户未登录");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/comments/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("发表评论失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return st.apply(this,arguments)}),getCircleDetail:(at=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,n=t.circle_id,e.next=5,fetch("".concat("https://loghomeservice.codesocean.top","/community/circles/detail/").concat(n));case 5:return r=e.sent,e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),console.error("获取圈子详情失败:",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(){return at.apply(this,arguments)}),getCircleMembers:(ot=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,n=t.circle_id,r=Object(On.a)(t,Sn),e.next=5,fetch("".concat("https://loghomeservice.codesocean.top","/community/circles/").concat(n,"/members?").concat(new URLSearchParams(r)));case 5:return o=e.sent,e.next=8,o.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),console.error("获取圈子成员失败:",e.t0),e.abrupt("return",{list:[],total:0});case 15:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(){return ot.apply(this,arguments)}),joinCircle:(nt=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}throw new Error("用户未登录");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/circles/join"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("加入圈子失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return nt.apply(this,arguments)}),quitCircle:(tt=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}throw new Error("用户未登录");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/circles/quit"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("退出圈子失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return tt.apply(this,arguments)}),getVerificationQuestions:(et=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,n=t.circle_id,e.next=5,fetch("".concat("https://loghomeservice.codesocean.top","/community/circles/").concat(n,"/verification-questions"));case 5:return r=e.sent,e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),console.error("获取验证问题失败:",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(){return et.apply(this,arguments)}),createShareCode:(Ze=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}throw new Error("用户未登录");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/share/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("创建分享口令失败:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(){return Ze.apply(this,arguments)}),getPostsList:(Ge=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.next=4,fetch("".concat("https://loghomeservice.codesocean.top","/community/posts/list?").concat(new URLSearchParams(t)));case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),console.error("获取帖子列表失败:",e.t0),e.abrupt("return",{list:[],total:0,has_more:!1});case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(){return Ge.apply(this,arguments)}),getMessageList:(Ve=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,data,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:1,r=l.length>2&&void 0!==l[2]?l[2]:20,e.prev=2,o=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=6;break}throw new Error("用户未登录");case 6:return e.next=8,fetch("".concat("https://loghomeservice.codesocean.top","/community/messages/list?target_user_id=").concat(t,"&page=").concat(n,"&pageSize=").concat(r),{headers:{Authorization:o}});case 8:return c=e.sent,e.next=11,c.json();case 11:return data=e.sent,e.abrupt("return",{code:0,data:data||[],message:"success"});case 15:return e.prev=15,e.t0=e.catch(2),console.error("获取消息列表失败:",e.t0),e.abrupt("return",{code:-1,data:[],message:e.t0.message||"获取消息列表失败"});case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e){return Ve.apply(this,arguments)}),sendMessage:(Qe=Object(r.a)(regeneratorRuntime.mark((function e(t,content){var n,r,o,data,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:"text",e.prev=1,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=5;break}throw new Error("用户未登录");case 5:return e.next=7,fetch("".concat("https://loghomeservice.codesocean.top","/community/messages/send"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({target_user_id:t,content:content,message_type:n})});case 7:return o=e.sent,e.next=10,o.json();case 10:return data=e.sent,e.abrupt("return",{code:0,data:data,message:"发送成功"});case 14:return e.prev=14,e.t0=e.catch(1),console.error("发送消息失败:",e.t0),e.abrupt("return",{code:-1,data:null,message:e.t0.message||"发送消息失败"});case 18:case"end":return e.stop()}}),e,null,[[1,14]])}))),function(e,t){return Qe.apply(this,arguments)}),getConversationList:(Ye=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,data,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:20,e.prev=2,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=6;break}throw new Error("用户未登录");case 6:return e.next=8,fetch("".concat("https://loghomeservice.codesocean.top","/community/conversations/list?page=").concat(t,"&pageSize=").concat(n),{headers:{Authorization:r}});case 8:return o=e.sent,e.next=11,o.json();case 11:return data=e.sent,e.abrupt("return",{code:0,data:data||[],message:"success"});case 15:return e.prev=15,e.t0=e.catch(2),console.error("获取会话列表失败:",e.t0),e.abrupt("return",{code:-1,data:[],message:e.t0.message||"获取会话列表失败"});case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(){return Ye.apply(this,arguments)}),markMessageAsRead:(Xe=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/messages/mark-read"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({target_user_id:t})});case 6:return r=e.sent,e.next=9,r.json();case 9:return data=e.sent,e.abrupt("return",{code:0,data:data,message:"标记成功"});case 13:return e.prev=13,e.t0=e.catch(0),console.error("标记消息已读失败:",e.t0),e.abrupt("return",{code:-1,data:null,message:e.t0.message||"标记消息已读失败"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(e){return Xe.apply(this,arguments)})},Cn=Rn,In={getLikesOf:(Et=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/bookcase/get_likes_of"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.error("获取收藏状态失败:",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(){return Et.apply(this,arguments)}),likeNovel:(Pt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/bookcase/like_novel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({novel_id:t})});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("收藏小说失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return Pt.apply(this,arguments)}),removeLikeNovel:(zt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/bookcase/remove_like_novel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({novel_id:t})});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("取消收藏失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return zt.apply(this,arguments)})},$n=In,zn={getAssoWorldByNovelId:(Dt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/world/get_asso_world_by_novel_id?novel_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取关联世界设定失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Dt.apply(this,arguments)}),getAssoWorldByWorldId:(Mt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/world/get_asso_world_by_world_id?world_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取关联世界设定失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Mt.apply(this,arguments)}),getMyWorlds:(At=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/world/get_my_worlds"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.error("获取我的世界设定失败:",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(){return At.apply(this,arguments)}),addWorldNovelAsso:(Nt=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/world/add_world_novel_asso?world_id=").concat(t,"&novel_id=").concat(n),{headers:{Authorization:"Bearer ".concat(r)}});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("添加世界与小说关联失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t){return Nt.apply(this,arguments)}),deleteWorldNovelAsso:(Tt=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/world/delete_world_novel_asso?world_id=").concat(t,"&novel_id=").concat(n),{headers:{Authorization:"Bearer ".concat(r)}});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("删除世界与小说关联失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t){return Tt.apply(this,arguments)})},Pn=zn,En={getNovelTags:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_novel_tags?novel_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取小说标签失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getSuggestedTags:(Ut=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_suggested_tags?novel_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取推荐标签失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return Ut.apply(this,arguments)}),addNovelTag:(Jt=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/library/add_novel_tag?novel_id=").concat(t,"&tag_name=").concat(encodeURIComponent(n)),{headers:{Authorization:"Bearer ".concat(r)}});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("添加小说标签失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t){return Jt.apply(this,arguments)}),deleteNovelTag:(Lt=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/library/delete_novel_tag?novel_id=").concat(t,"&tag_id=").concat(n),{headers:{Authorization:"Bearer ".concat(r)}});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("删除小说标签失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t){return Lt.apply(this,arguments)})},Tn=En,Nn={getTreePlantInfo:(Wt=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}return e.abrupt("return",{treeState:"未登录"});case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/treePlant/get_treePlant_of"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:if(!((data=e.sent).length>0)){e.next=14;break}return e.abrupt("return",{treeState:data[0].tree_status});case 14:return e.abrupt("return",{treeState:"未种植"});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.error("获取树场信息失败:",e.t0),e.abrupt("return",{treeState:"获取失败"});case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))),function(){return Wt.apply(this,arguments)})},An=Nn,Mn={getUserResources:(Bt=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}return e.abrupt("return",{earningsMoney:0});case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/resource/get_resources"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:if(!((data=e.sent)&&data.length>0)){e.next=15;break}return r=data[0],e.abrupt("return",{earningsMoney:parseFloat((r.cropped_log/100).toFixed(2))});case 15:return e.abrupt("return",{earningsMoney:0});case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.error("获取资源信息失败:",e.t0),e.abrupt("return",{earningsMoney:0});case 22:case"end":return e.stop()}}),e,null,[[0,18]])}))),function(){return Bt.apply(this,arguments)})},Dn=Mn,Ln={getUserById:(cn=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/users/get_user_by_id?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取用户信息失败:",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return cn.apply(this,arguments)}),getUserProfile:(sn=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/users/userprofile"),{headers:{Authorization:t}});case 6:return n=e.sent,e.next=9,n.json();case 9:return data=e.sent,localStorage.setItem("LogHomeUserInfo",JSON.stringify(data)),e.abrupt("return",data);case 14:if(e.prev=14,e.t0=e.catch(0),console.error("获取用户个人资料失败:",e.t0),!(r=localStorage.getItem("LogHomeUserInfo"))){e.next=20;break}return e.abrupt("return",JSON.parse(r));case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return sn.apply(this,arguments)}),checkAccount:(an=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/users/check_account?account=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return data=e.sent,e.abrupt("return",data.length>0);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("检查账号失败:",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return an.apply(this,arguments)}),checkEmail:(on=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/users/check_email?email=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return data=e.sent,e.abrupt("return",data.length>0);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("检查邮箱失败:",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return on.apply(this,arguments)}),sendEmailVerifyCode:(rn=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/users/send_email_verify_code?email=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("发送验证码失败:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return rn.apply(this,arguments)}),registerWithEmail:(nn=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/users/register_with_email?email=").concat(t,"&vcode=").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("验证码验证失败:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e,t){return nn.apply(this,arguments)}),login:(tn=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,data,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:if(data=e.sent,console.log(data),!data.token){e.next=26;break}return localStorage.setItem("token",JSON.stringify(data.token)),e.prev=10,e.next=13,fetch("".concat("https://loghomeservice.codesocean.top","/users/userprofile"),{headers:{Authorization:data.token.tk}});case 13:return o=e.sent,e.next=16,o.json();case 16:c=e.sent,localStorage.setItem("LogHomeUserInfo",JSON.stringify(c)),window.dispatchEvent(new CustomEvent("auth-state-changed")),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),console.error("登录后获取用户信息失败:",e.t0);case 24:e.next=27;break;case 26:throw error;case 27:return e.abrupt("return",data);case 30:throw e.prev=30,e.t1=e.catch(0),console.error("登录失败:",e.t1),e.t1;case 34:case"end":return e.stop()}}),e,null,[[0,30],[10,21]])}))),function(e,t){return tn.apply(this,arguments)}),register:(en=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o){var c,data,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n,email:r,verifyCode:o})});case 3:return c=e.sent,e.next=6,c.json();case 6:if(!(data=e.sent).token){e.next=23;break}return localStorage.setItem("token",JSON.stringify(data.token)),e.prev=9,e.next=12,fetch("".concat("https://loghomeservice.codesocean.top","/users/userprofile"),{headers:{Authorization:data.token.tk}});case 12:return l=e.sent,e.next=15,l.json();case 15:d=e.sent,localStorage.setItem("LogHomeUserInfo",JSON.stringify(d)),window.dispatchEvent(new CustomEvent("auth-state-changed")),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),console.error("注册后获取用户信息失败:",e.t0);case 23:return e.abrupt("return",data);case 26:throw e.prev=26,e.t1=e.catch(0),console.error("注册失败:",e.t1),e.t1;case 30:case"end":return e.stop()}}),e,null,[[0,26],[9,20]])}))),function(e,t,n,r){return en.apply(this,arguments)}),generateCrossSiteToken:(Zt=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/users/generate_cross_site_token"),{headers:{Authorization:t}});case 6:return n=e.sent,e.next=9,n.json();case 9:return data=e.sent,e.abrupt("return",data);case 13:if(e.prev=13,e.t0=e.catch(0),console.error("生成跨站登录token失败:",e.t0),!(r=localStorage.getItem("LogHomeUserInfo"))){e.next=19;break}return e.abrupt("return",JSON.parse(r));case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(){return Zt.apply(this,arguments)}),getUserInfo:(Gt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/users/user_profile_of?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return data=e.sent,e.abrupt("return",{code:0,data:data[0]||null,message:"success"});case 10:return e.prev=10,e.t0=e.catch(0),console.error("获取用户信息失败:",e.t0),e.abrupt("return",{code:-1,data:null,message:e.t0.message||"获取用户信息失败"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return Gt.apply(this,arguments)}),getUserNovels:(Vt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_novel_by_user_id?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return data=e.sent,e.abrupt("return",{code:0,data:data||[],message:"success"});case 10:return e.prev=10,e.t0=e.catch(0),console.error("获取用户作品失败:",e.t0),e.abrupt("return",{code:-1,data:[],message:e.t0.message||"获取用户作品失败"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return Vt.apply(this,arguments)}),getUserWorlds:(Qt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/world/get_worlds_by_author?user_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return data=e.sent,e.abrupt("return",{code:0,data:data||[],message:"success"});case 10:return e.prev=10,e.t0=e.catch(0),console.error("获取用户世界失败:",e.t0),e.abrupt("return",{code:-1,data:[],message:e.t0.message||"获取用户世界失败"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return Qt.apply(this,arguments)}),getUserPosts:(Yt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,data,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{},e.prev=1,r=n.page,o=void 0===r?1:r,c=n.pageSize,l=void 0===c?10:c,e.next=5,fetch("".concat("https://loghomeservice.codesocean.top","/community/posts/list?page=").concat(o,"&pageSize=").concat(l,"&user_id=").concat(t));case 5:return d=e.sent,e.next=8,d.json();case 8:return data=e.sent,e.abrupt("return",{code:0,data:data||{list:[],total:0},message:"success"});case 12:return e.prev=12,e.t0=e.catch(1),console.error("获取用户帖子失败:",e.t0),e.abrupt("return",{code:-1,data:{list:[],total:0},message:e.t0.message||"获取用户帖子失败"});case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),function(e){return Yt.apply(this,arguments)}),getUserFans:(Xt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/community/get_fans_of?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return data=e.sent,e.abrupt("return",{code:0,data:data||[],message:"success"});case 10:return e.prev=10,e.t0=e.catch(0),console.error("获取用户粉丝失败:",e.t0),e.abrupt("return",{code:-1,data:[],message:e.t0.message||"获取用户粉丝失败"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return Xt.apply(this,arguments)}),getUserFollows:(Ft=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/community/get_follows_of?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return data=e.sent,e.abrupt("return",{code:0,data:data||[],message:"success"});case 10:return e.prev=10,e.t0=e.catch(0),console.error("获取用户关注失败:",e.t0),e.abrupt("return",{code:-1,data:[],message:e.t0.message||"获取用户关注失败"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return Ft.apply(this,arguments)}),followUser:(Kt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/follow_user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({target_id:t})});case 6:return r=e.sent,e.next=9,r.json();case 9:return data=e.sent,e.abrupt("return",{code:0,data:data,message:"关注成功"});case 13:return e.prev=13,e.t0=e.catch(0),console.error("关注用户失败:",e.t0),e.abrupt("return",{code:-1,data:null,message:e.t0.message||"关注用户失败"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(e){return Kt.apply(this,arguments)}),unfollowUser:(Ht=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/unfollow_user"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({target_id:t})});case 6:return r=e.sent,e.next=9,r.json();case 9:return data=e.sent,e.abrupt("return",{code:0,data:data,message:"取消关注成功"});case 13:return e.prev=13,e.t0=e.catch(0),console.error("取消关注失败:",e.t0),e.abrupt("return",{code:-1,data:null,message:e.t0.message||"取消关注失败"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(e){return Ht.apply(this,arguments)}),checkFollowStatus:(qt=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/community/check_follow_status?target_id=").concat(t),{headers:{Authorization:n}});case 6:return r=e.sent,e.next=9,r.json();case 9:return data=e.sent,e.abrupt("return",{code:0,data:data,message:"success"});case 13:return e.prev=13,e.t0=e.catch(0),console.error("检查关注状态失败:",e.t0),e.abrupt("return",{code:-1,data:{isFollowing:!1},message:e.t0.message||"检查关注状态失败"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(e){return qt.apply(this,arguments)})},Jn=Ln,Un={getNovelsOf:(vn=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/get_novels_of"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 12:if(e.prev=12,e.t0=e.catch(0),console.error("获取用户作品列表失败:",e.t0),!(r=localStorage.getItem("LogHomeUserEssay"))){e.next=18;break}return e.abrupt("return",JSON.parse(r));case 18:return e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(){return vn.apply(this,arguments)}),getNovelById:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/essays/get_novel_by_id?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取小说详情失败:",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getNovelTags:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_novel_tags?novel_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取小说标签失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getSuggestedTags:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://loghomeservice.codesocean.top","/library/get_suggested_tags?novel_id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error("获取推荐标签失败:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),addNovelTag:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/library/add_novel_tag?novel_id=").concat(t,"&tag_name=").concat(encodeURIComponent(n)),{headers:{Authorization:"Bearer ".concat(r)}});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("添加小说标签失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),deleteNovelTag:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/library/delete_novel_tag?novel_id=").concat(t,"&tag_id=").concat(n),{headers:{Authorization:"Bearer ".concat(r)}});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("删除小说标签失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),addNovel:(gn=Object(r.a)(regeneratorRuntime.mark((function e(t,content){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/add_novel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({name:t,content:content})});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("添加新作品失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t){return gn.apply(this,arguments)}),modifyNovel:(mn=Object(r.a)(regeneratorRuntime.mark((function e(t,n,content){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/modify_novel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({novel_id:t,name:n,content:content})});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("修改作品信息失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t,n){return mn.apply(this,arguments)}),setNovelStatus:(fn=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/set_novel_status"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("设置作品状态失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return fn.apply(this,arguments)}),setNovelUpdateStatus:(hn=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/set_novel_update_status"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("设置作品更新状态失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return hn.apply(this,arguments)}),changeCover:(dn=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/change_cover"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("修改作品封面失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return dn.apply(this,arguments)}),deleteNovel:(pn=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/delete_novel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("删除作品失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return pn.apply(this,arguments)}),getArticles:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/get_articles?id=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.error("获取作品章节列表失败:",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),getNovelActivity:(ln=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/get_novel_activity?novel_id=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.error("获取小说活动信息失败:",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return ln.apply(this,arguments)}),submitActivityInfo:(un=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).tk:null){e.next=4;break}throw new Error("用户未登录");case 4:return e.next=6,fetch("".concat("https://loghomeservice.codesocean.top","/essays/submit_activity_info"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({novel_id:t,tag_id:n,form_data:r})});case 6:return c=e.sent,e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("提交活动信息失败:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t,n){return un.apply(this,arguments)})},Wn={novels:Ne,search:bn,articles:yn,statistics:_n,community:Cn,bookcase:$n,worlds:Pn,library:Tn,treePlant:An,resources:Dn,users:Jn,essays:Un},Bn=function(e,t){e.app;t("api",Wn)};c.default.prototype.$api=Wn;var qn=n(218),Hn=n.n(qn),Kn=n(143),Fn=n.n(Kn),Xn=function(){c.default.use(Hn.a,{locale:Fn.a})},Yn=n(99),Qn=n(100);n(227);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zn=c.default.observable({windows:[],activeWindowId:null,zIndex:1e3}),er=new(function(){return Object(Qn.a)((function e(){Object(Yn.a)(this,e),this.state=Zn}),[{key:"createWindow",value:function(e){var t="window-"+Date.now(),n=Gn(Gn({},{id:t,title:"新窗口",url:"",width:800,height:600,x:(window.innerWidth-800)/2,y:(window.innerHeight-600)/2,isMinimized:!1,isResizing:!1,zIndex:this.state.zIndex++}),e);return this.state.windows.push(n),this.state.activeWindowId=t,t}},{key:"closeWindow",value:function(e){var t=this.state.windows.findIndex((function(t){return t.id===e}));if(-1!==t)if(this.state.windows.splice(t,1),this.state.activeWindowId===e&&this.state.windows.length>0){var n=this.state.windows.filter((function(e){return!e.isMinimized}));n.length>0?this.state.activeWindowId=n[n.length-1].id:this.state.activeWindowId=null}else 0===this.state.windows.length&&(this.state.activeWindowId=null)}},{key:"minimizeWindow",value:function(e){var t=this.state.windows.find((function(t){return t.id===e}));if(t&&(t.isMinimized=!0,this.state.activeWindowId===e)){var n=this.state.windows.filter((function(e){return!e.isMinimized}));n.length>0?this.state.activeWindowId=n[n.length-1].id:this.state.activeWindowId=null}}},{key:"restoreWindow",value:function(e){var t=this.state.windows.find((function(t){return t.id===e}));t&&(this.state.activeWindowId=e,t.zIndex=this.state.zIndex++,setTimeout((function(){t.isMinimized=!1}),10))}},{key:"activateWindow",value:function(e){var t=this.state.windows.find((function(t){return t.id===e}));t&&!t.isMinimized&&(this.state.activeWindowId=e,t.zIndex=this.state.zIndex++)}},{key:"updateWindowPosition",value:function(e,t,n){var r=this.state.windows.find((function(t){return t.id===e}));r&&(r.x=Math.max(0,t),r.y=Math.max(0,n))}},{key:"updateWindowSize",value:function(e,t,n){var r=this.state.windows.find((function(t){return t.id===e}));r&&(r.width=Math.max(300,t),r.height=Math.max(200,n))}},{key:"getWindows",value:function(){return this.state.windows}},{key:"getMinimizedWindows",value:function(){return this.state.windows.filter((function(e){return e.isMinimized}))}},{key:"getActiveWindows",value:function(){return this.state.windows.filter((function(e){return!e.isMinimized}))}},{key:"getActiveWindow",value:function(){var e=this;return this.state.windows.find((function(t){return t.id===e.state.activeWindowId}))}}])}()),nr=function(e,t){e.app;t("windowManager",er)};c.default.prototype.$windowManager=er;var rr={install:function(e){e.prototype.$preview=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Array.isArray(e)?e:[e],r=document.createElement("div");r.className="image-preview-container",r.innerHTML='\n        <div class="image-preview-overlay">\n          <div class="image-preview-wrapper">\n            <div class="image-preview-header">\n              <span class="image-preview-counter">'.concat(t+1," / ").concat(n.length,'</span>\n              <button class="image-preview-close">&times;</button>\n            </div>\n            <div class="image-preview-content">\n              <button class="image-preview-prev" ').concat(n.length<=1?'style="display:none"':"",'>&lt;</button>\n              <img class="image-preview-img" src="').concat(n[t],'" alt="预览图片" />\n              <button class="image-preview-next" ').concat(n.length<=1?'style="display:none"':"",">&gt;</button>\n            </div>\n          </div>\n        </div>\n      ");var style=document.createElement("style");style.textContent="\n        .image-preview-container {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          z-index: 9999;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .image-preview-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.8);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .image-preview-wrapper {\n          position: relative;\n          max-width: 90%;\n          max-height: 90%;\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .image-preview-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 10px 0;\n          color: #fff;\n        }\n        \n        .image-preview-counter {\n          font-size: 16px;\n        }\n        \n        .image-preview-close {\n          background: none;\n          border: none;\n          color: #fff;\n          font-size: 30px;\n          cursor: pointer;\n          padding: 0;\n          width: 40px;\n          height: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n          transition: background-color 0.3s;\n        }\n        \n        .image-preview-close:hover {\n          background-color: rgba(255, 255, 255, 0.2);\n        }\n        \n        .image-preview-content {\n          position: relative;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .image-preview-img {\n          max-width: 100%;\n          max-height: 80vh;\n          object-fit: contain;\n          border-radius: 8px;\n        }\n        \n        .image-preview-prev,\n        .image-preview-next {\n          position: absolute;\n          top: 50%;\n          transform: translateY(-50%);\n          background: rgba(0, 0, 0, 0.5);\n          border: none;\n          color: #fff;\n          font-size: 24px;\n          cursor: pointer;\n          padding: 10px 15px;\n          border-radius: 50%;\n          transition: background-color 0.3s;\n          z-index: 1;\n        }\n        \n        .image-preview-prev:hover,\n        .image-preview-next:hover {\n          background: rgba(0, 0, 0, 0.8);\n        }\n        \n        .image-preview-prev {\n          left: -60px;\n        }\n        \n        .image-preview-next {\n          right: -60px;\n        }\n        \n        @media (max-width: 768px) {\n          .image-preview-prev {\n            left: 10px;\n          }\n          \n          .image-preview-next {\n            right: 10px;\n          }\n        }\n      ",document.head.appendChild(style),document.body.appendChild(r);var o=t,c=function(){var img=r.querySelector(".image-preview-img"),e=r.querySelector(".image-preview-counter");img.src=n[o],e.textContent="".concat(o+1," / ").concat(n.length)},l=function(){document.body.removeChild(r),document.head.removeChild(style)},d=function(){o>0&&(o--,c())},h=function(){o<n.length-1&&(o++,c())};r.querySelector(".image-preview-close").addEventListener("click",l),r.querySelector(".image-preview-overlay").addEventListener("click",(function(e){e.target===e.currentTarget&&l()}));var f=r.querySelector(".image-preview-prev"),m=r.querySelector(".image-preview-next");f&&f.addEventListener("click",d),m&&m.addEventListener("click",h);var v=function(e){switch(e.key){case"Escape":l();break;case"ArrowLeft":d();break;case"ArrowRight":h()}};document.addEventListener("keydown",v);var w=l;r.closePreview=function(){document.removeEventListener("keydown",v),w()},r.querySelector(".image-preview-close").addEventListener("click",r.closePreview),r.querySelector(".image-preview-overlay").addEventListener("click",(function(e){e.target===e.currentTarget&&r.closePreview()}))}}};c.default.use(rr);var or=rr,ar=(n(61),n(62),n(101)),sr=function(e,t){var n=e.app,r={isMobile:function(){var e=navigator.userAgent||"",t=window.innerWidth||document.documentElement.clientWidth;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)||t<=768},isTablet:function(){var e=navigator.userAgent||"",t=window.innerWidth||document.documentElement.clientWidth;return/iPad|Android(?!.*Mobile)/i.test(e)||t>768&&t<=1024},isDesktop:function(){return!this.isMobile()&&!this.isTablet()},getDeviceType:function(){return this.isMobile()?"mobile":this.isTablet()?"tablet":"desktop"},getScreenSize:function(){var e=window.innerWidth||document.documentElement.clientWidth;return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":"xl"},redirectToMobile:function(){var path=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var e=n.context.env.mobileUrl;if(e){var t=path||window.location.pathname,r=Object(ar.b)(window.location.href).query;try{var o=Object(ar.a)(e,t,r);if(window.location.href===o)return void console.warn("检测到可能的无限重定向，取消跳转");window.location.href=o}catch(n){console.error("URI解析失败，使用后备方案:",n);var c=e;if(t&&"/"!==t&&(c+="/#"+t),r&&Object.keys(r).length>0){var l=new URLSearchParams(r).toString();c+=(c.includes("?")?"&":"?")+l}window.location.href=c}}else console.warn("移动端URL未配置")},redirectToDesktop:function(){var path=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var e=window.location.href,t=n.context.env.mobileUrl;if(t){var r=e.replace(new URL(t).origin,window.location.origin);path&&(r=window.location.origin+path),window.location.href=r}else console.warn("移动端URL未配置，无法推断桌面端URL")},getDeviceInfo:function(){return{type:this.getDeviceType(),screenSize:this.getScreenSize(),isMobile:this.isMobile(),isTablet:this.isTablet(),isDesktop:this.isDesktop(),userAgent:navigator.userAgent,screenWidth:window.innerWidth||document.documentElement.clientWidth,screenHeight:window.innerHeight||document.documentElement.clientHeight}}};t("device",r)};function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}c.default.component(f.a.name,f.a),c.default.component(v.a.name,cr(cr({},v.a),{},{render:function(e,t){return v.a._warned||(v.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),v.a.render(e,t)}})),c.default.component(R.name,R),c.default.component("NChild",R),c.default.component(T.name,T),Object.defineProperty(c.default.prototype,"$nuxt",{get:function(){var e=this.$root.$options.$nuxt;return e||"undefined"==typeof window?e:window.$nuxt},configurable:!0}),c.default.use(d.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var ur={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"},lr=l.a.Store.prototype.registerModule;function pr(path,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Array.isArray(path)?!!path.reduce((function(e,path){return e&&e[path]}),this.state):path in this.state;return lr.call(this,path,e,cr({preserveState:n},t))}function dr(e){return fr.apply(this,arguments)}function fr(){return fr=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,o,l,d,h,f,path,m,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject('".concat(e,"', value) has no value provided"));d[e="$"+e]=t,d.context[e]||(d.context[e]=t),l[e]=d[e];var n="__nuxt_"+e+"_installed__";c.default[n]||(c.default[n]=!0,c.default.use((function(){Object.prototype.hasOwnProperty.call(c.default.prototype,e)||Object.defineProperty(c.default.prototype,e,{get:function(){return this.$root.$options[e]}})})))},n=v.length>1&&void 0!==v[1]?v[1]:{},e.next=4,S(0,n);case 4:return o=e.sent,(l=ne(t)).$router=o,l.registerModule=pr,d=cr({head:{title:"原木社区 - 方块人的文艺世界",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"原木社区 - 方块人的文艺世界"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}],style:[],script:[]},store:l,router:o,nuxt:{defaultTransition:ur,transitions:[ur],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},ur,{name:e}):Object.assign({},ur,e):ur})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,d.context._errored=Boolean(e),e=e?Object(y.p)(e):null;var n=d.nuxt;return this&&(n=this.nuxt||this.$options.nuxt),n.dateErr=Date.now(),n.err=e,t&&(t.nuxt.error=e),e}}},ee),l.app=d,h=t?t.next:function(e){return d.router.push(e)},t?f=o.resolve(t.url).route:(path=Object(y.f)(o.options.base,o.options.mode),f=o.resolve(path).route),e.next=14,Object(y.t)(d,{store:l,route:f,next:h,error:d.nuxt.error.bind(d),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t});case 14:return m("config",n),window.__NUXT__&&window.__NUXT__.state&&l.replaceState(window.__NUXT__.state),e.next=20,Ee(d.context,m);case 20:return e.next=23,Bn(d.context,m);case 23:return e.next=26,Xn(d.context);case 26:return e.next=29,nr(d.context,m);case 29:if("function"!=typeof or){e.next=32;break}return e.next=32,or(d.context,m);case 32:return e.next=35,sr(d.context,m);case 35:return e.next=38,new Promise((function(e,t){if(!o.resolve(d.context.route.fullPath).route.matched.length)return e();o.replace(d.context.route.fullPath,e,(function(n){if(!n._isRouter)return t(n);if(2!==n.type)return e();var c=o.afterEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(y.j)(n);case 3:d.context.route=t.sent,d.context.params=n.params||{},d.context.query=n.query||{},c(),e();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))}));case 38:return e.abrupt("return",{store:l,app:d,router:o});case 39:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}}},[[231,29,2,30]]]);
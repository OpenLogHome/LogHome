(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{517:function(t,e,r){var content=r(568);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(26).default)("2507fb0b",content,!0,{sourceMap:!1})},567:function(t,e,r){"use strict";r(517)},568:function(t,e,r){var o=r(25)(!1);o.push([t.i,'.write-page{width:100%}.write-page .page-header{margin-bottom:30px}.write-page .page-title{font-size:32px;color:#704c35}.write-page .write-container{display:grid;grid-template-columns:1fr 300px;gap:30px}.write-page .section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.write-page .section-title{font-size:24px;color:#704c35;margin:0}.write-page .new-button{background-color:#947358;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-weight:600;cursor:pointer;transition:background-color .3s ease}.write-page .new-button:hover{background-color:#704c35}.write-page .tabs{display:flex;margin-bottom:20px;border-bottom:1px solid #eee}.write-page .tab-button{padding:10px 20px;background:none;border:none;color:#666;font-size:16px;cursor:pointer;position:relative;transition:color .3s ease}.write-page .tab-button:hover{color:#947358}.write-page .tab-button.active{color:#947358;font-weight:600}.write-page .tab-button.active:after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:3px;background-color:#947358;display:block}.write-page .loading-state{background-color:#fff;border-radius:8px;padding:40px;text-align:center;box-shadow:0 2px 4px rgba(0,0,0,.1)}.write-page .loading-state .loading-spinner{width:50px;height:50px;border:5px solid #f5f5f5;border-top:5px solid #947358;border-radius:50%;margin:0 auto 20px;animation:spin 1s linear infinite}.write-page .loading-state .loading-text{color:#666}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.write-page .error-state{background-color:#fff;border-radius:8px;padding:40px;text-align:center;box-shadow:0 2px 4px rgba(0,0,0,.1)}.write-page .error-state .error-icon{font-size:50px;margin-bottom:20px;color:#e74c3c}.write-page .error-state .error-title{font-size:20px;color:#333;margin-bottom:10px}.write-page .error-state .error-desc{color:#666;margin-bottom:25px}.write-page .error-state .error-button{background-color:#947358;color:#fff;border:none;border-radius:4px;padding:10px 30px;font-weight:600;cursor:pointer;transition:background-color .3s ease}.write-page .error-state .error-button:hover{background-color:#704c35}.write-page .work-empty{background-color:#fff;border-radius:8px;padding:40px;text-align:center;box-shadow:0 2px 4px rgba(0,0,0,.1)}.write-page .work-empty .empty-icon{font-size:64px;margin-bottom:20px}.write-page .work-empty .empty-title{font-size:20px;color:#333;margin-bottom:10px}.write-page .work-empty .empty-desc{color:#666;margin-bottom:25px}.write-page .work-empty .empty-button{background-color:#fb7d46;color:#fff;border:none;border-radius:4px;padding:10px 30px;font-weight:600;cursor:pointer;transition:background-color .3s ease}.write-page .work-empty .empty-button:hover{background-color:#fa6c2e}.write-page .work-item{display:flex;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px rgba(0,0,0,.1);margin-bottom:20px}.write-page .work-item .work-cover{width:150px;position:relative;flex-shrink:0}.write-page .work-item .work-category{position:absolute;top:10px;right:10px;background-color:rgba(0,0,0,.5);color:#fff;padding:4px 8px;border-radius:4px;font-size:12px}.write-page .work-item .work-status{position:absolute;bottom:10px;left:10px;background-color:rgba(0,0,0,.5);color:#fff;padding:4px 8px;border-radius:4px;font-size:12px}.write-page .work-item .work-status.status-completed{background-color:rgba(25,135,84,.7)}.write-page .work-item .work-status.status-draft{background-color:rgba(108,117,125,.7)}.write-page .work-item .work-info{flex-grow:1;padding:20px}.write-page .work-item .work-title{font-size:20px;color:#704c35;margin:0 0 10px}.write-page .work-item .work-stats{display:flex;color:#666;font-size:14px;margin-bottom:10px}.write-page .work-item .work-stats span{margin-right:15px}.write-page .work-item .work-desc{color:#666;font-size:14px;line-height:1.5;margin-bottom:15px}.write-page .work-item .work-update{color:#888;font-size:13px;margin-bottom:15px}.write-page .work-item .work-actions{display:flex;gap:10px}.write-page .work-item .work-action{padding:8px 15px;border-radius:4px;background-color:#f5f5f5;border:none;color:#666;cursor:pointer;transition:all .3s ease}.write-page .work-item .work-action:hover{background-color:#e0e0e0}.write-page .work-item .work-action.primary{background-color:#fb7d46;color:#fff}.write-page .work-item .work-action.primary:hover{background-color:#fa6c2e}.write-page .work-item .activity-section{margin-top:16px;padding:16px;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.write-page .work-item .activity-section-title{margin:0 0 12px 0;font-size:16px;font-weight:600;color:#333}.write-page .work-item .activity-item{background:#fff;border-radius:6px;padding:12px;margin-bottom:12px;border:1px solid #e9ecef}.write-page .work-item .activity-item:last-child{margin-bottom:0}.write-page .work-item .activity-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.write-page .work-item .activity-name{font-weight:600;color:#333;font-size:14px}.write-page .work-item .activity-status{background:#28a745;color:#fff;padding:2px 8px;border-radius:12px;font-size:12px}.write-page .work-item .activity-description{color:#666;font-size:13px;line-height:1.4;margin-bottom:12px}.write-page .work-item .activity-news{margin-bottom:12px}.write-page .work-item .news-title{font-size:13px;font-weight:600;color:#333;margin-bottom:6px}.write-page .work-item .news-item{display:flex;justify-content:space-between;align-items:center;padding:6px 8px;background:#f8f9fa;border-radius:4px;margin-bottom:4px;cursor:pointer;transition:background .2s}.write-page .work-item .news-item:hover{background:#e9ecef}.write-page .work-item .news-item:last-child{margin-bottom:0}.write-page .work-item .news-item-title{font-size:12px;color:#666;flex:1}.write-page .work-item .news-arrow{color:#999;font-size:12px}.write-page .work-item .activity-form{border-top:1px solid #e9ecef;padding-top:12px}.write-page .work-item .form-status{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.write-page .work-item .form-title{font-size:13px;font-weight:600;color:#333}.write-page .work-item .form-status-text{font-size:12px;padding:2px 6px;border-radius:10px}.write-page .work-item .form-status-text.status-incomplete{background:#ffeaa7;color:#d63031}.write-page .work-item .form-status-text.status-complete{background:#00b894;color:#fff}.write-page .work-item .form-button{width:100%;padding:8px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:13px;transition:background .2s}.write-page .work-item .form-button:hover{background:#0056b3}.write-page .sidebar-section{background-color:#fff;border-radius:8px;padding:20px;margin-bottom:25px;box-shadow:0 2px 4px rgba(0,0,0,.1)}.write-page .sidebar-section .sidebar-title{font-size:18px;margin-bottom:15px;color:#704c35;padding-bottom:10px;border-bottom:1px solid #eee}.write-page .sidebar-section .stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:15px}.write-page .sidebar-section .stats-grid .stat-item{text-align:center;padding:10px;background-color:#f5f5f5;border-radius:4px}.write-page .sidebar-section .stats-grid .stat-item .stat-value{font-size:20px;font-weight:600;color:#947358;margin-bottom:5px}.write-page .sidebar-section .stats-grid .stat-item .stat-label{font-size:14px;color:#666}.write-page .sidebar-section .guide-list{list-style:none;padding:0;margin:0}.write-page .sidebar-section .guide-list .guide-item{padding:8px 0;border-bottom:1px solid #f5f5f5}.write-page .sidebar-section .guide-list .guide-item:last-child{border-bottom:none}.write-page .sidebar-section .guide-list .guide-item .guide-link{color:#947358;text-decoration:none;transition:color .3s ease}.write-page .sidebar-section .guide-list .guide-item .guide-link:hover{color:#704c35;text-decoration:underline}.write-page .sidebar-section .activity-list{display:flex;flex-direction:column;gap:15px}.write-page .sidebar-section .activity-list .activity-item{padding:15px;background-color:#f5f5f5;border-radius:4px;border-left:3px solid #947358}.write-page .sidebar-section .activity-list .activity-item .activity-title{font-size:16px;color:#333;margin:0 0 10px}.write-page .sidebar-section .activity-list .activity-item .activity-desc{font-size:14px;color:#666;margin:0 0 10px;line-height:1.4}.write-page .sidebar-section .activity-list .activity-item .activity-date{font-size:13px;color:#888;margin:0 0 10px}.write-page .sidebar-section .activity-list .activity-item .activity-link{display:inline-block;color:#947358;text-decoration:none;font-size:14px;font-weight:600}.write-page .sidebar-section .activity-list .activity-item .activity-link:hover{text-decoration:underline}@media(max-width: 992px){.write-page .write-container{grid-template-columns:1fr}.write-page .work-cover{width:100px}}@media(max-width: 576px){.write-page .work-item{flex-direction:column}.write-page .work-item .work-cover{width:100%;height:140px}.write-page .work-item .work-actions{flex-wrap:wrap}.write-page .work-item .work-actions .work-action{flex:1 0 auto}}',""]),t.exports=o},626:function(t,e,r){"use strict";r.r(e);var o=r(0);r(18),r(52),r(27),r(55),r(151),r(10),r(53),r(54),r(150),r(28),r(17),r(41),r(33),r(34),r(6);function n(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,a){if(t){if("string"==typeof t)return c(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,l=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw l}}}}function c(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,r=Array(a);e<a;e++)r[e]=t[e];return r}var l={head:function(){return{title:"创作中心 - 原木社区"}},data:function(){return{activeTab:"all",works:[],stats:{totalWorks:0,totalWords:"0",totalViews:"0",totalFavorites:0},loading:!1,error:null,activityData:{},activityFormData:{},showActivityForm:!1,currentActivity:null}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.checkLoginStatus(),e.next=3,t.fetchWorks();case 3:return e.next=5,t.loadActivityData();case 5:case"end":return e.stop()}}),e)})))()},computed:{filteredWorks:function(){return"all"===this.activeTab?this.works:"ongoing"===this.activeTab?this.works.filter((function(t){return"连载中"===t.status})):"completed"===this.activeTab?this.works.filter((function(t){return"已完结"===t.status})):"draft"===this.activeTab?this.works.filter((function(t){return"草稿"===t.status})):this.works}},methods:{checkLoginStatus:function(){localStorage.getItem("token")||(this.$message.warning("请先登录"),this.$router.push("/login"))},fetchWorks:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.error=null,e.prev=2,e.next=5,t.$api.essays.getNovelsOf();case 5:(r=e.sent)&&Array.isArray(r)&&(t.works=r.map((function(e){var r="小说";"fiction"===e.novel_type?r="小说":"nonfiction"===e.novel_type?r="非虚构":"poetry"===e.novel_type?r="诗歌":"world"===e.novel_type&&(r="世界设定");var o="连载中";1==e.is_complete?o="已完结":1==e.is_personal&&(o="草稿");var n=["#a8d8ea","#aa96da","#c7ceea","#f6c3d5","#e4f9d4","#f9d4d4"],c=n[Math.floor(Math.random()*n.length)],l=e.picUrl||null,d=e.update_time?t.formatDate(e.update_time):"未知",f=e.text_count?t.formatNumber(e.text_count):e.word_count?t.formatNumber(e.word_count):"0";return{id:e.novel_id,title:e.name,status:o,category:r,wordCount:f,chapterCount:e.article_count||0,description:e.content||"暂无简介",lastUpdate:d,color:c,picUrl:l}})),t.updateStats(),localStorage.setItem("LogHomeUserEssay",JSON.stringify(r))),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("获取作品列表失败:",e.t0),t.error="获取作品列表失败，请稍后重试",(o=localStorage.getItem("LogHomeUserEssay"))&&(n=JSON.parse(o),Array.isArray(n)&&(t.works=t.transformWorks(n),t.updateStats()));case 15:return e.prev=15,t.loading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,9,15,18]])})))()},transformWorks:function(t){var e=this;return t.map((function(t){var r="小说";"fiction"===t.novel_type?r="小说":"nonfiction"===t.novel_type?r="非虚构":"poetry"===t.novel_type?r="诗歌":"world"===t.novel_type&&(r="世界设定");var o="连载中";1==t.is_complete?o="已完结":1==t.is_personal&&(o="草稿");var n=["#a8d8ea","#aa96da","#c7ceea","#f6c3d5","#e4f9d4","#f9d4d4"],c=n[Math.floor(Math.random()*n.length)],l=t.picUrl||null,d=t.update_time?e.formatDate(t.update_time):"未知",f=t.text_count?e.formatNumber(t.text_count):t.word_count?e.formatNumber(t.word_count):"0";return{id:t.novel_id||t.id,title:t.name,status:o,category:r,wordCount:f,chapterCount:t.article_count||0,description:t.content||"暂无简介",lastUpdate:d,color:c,picUrl:l}}))},updateStats:function(){this.stats.totalWorks=this.works.length;var t=this.works.reduce((function(t,e){return t+(parseInt(e.wordCount.replace(/,/g,""))||0)}),0);this.stats.totalWords=this.formatNumber(t),this.stats.totalViews="0",this.stats.totalFavorites=0},formatDate:function(t){try{return new Date(t).toISOString().split("T")[0]}catch(t){return"未知"}},formatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},createNewWork:function(){this.$router.push("/write/new")},openEditPage:function(t){var e="/write/edit/".concat(t);window.open(e,"_blank")},openNewsLink:function(t){t.pc_link&&window.open(t.pc_link,"_blank")},openActivityForm:function(t,e){this.$router.push("/write/activity-form/".concat(t,"/").concat(e.tag_id))},hasFilledForm:function(t,e){var r=this.works.find((function(e){return e.id===t}));return!!(r&&r.activityInfo&&r.activityInfo.userInfo)&&r.activityInfo.userInfo.some((function(t){return t.tag_id===e}))},getFormStatusText:function(t,e,r){if(!this.hasFilledForm(t,e)){var o=r.filter((function(t){return t.required})).length;return o>0?"有".concat(o,"项必填信息未填写"):"信息未填写"}var n=this.works.find((function(e){return e.id===t}));if(!n||!n.activityInfo||!n.activityInfo.userInfo)return"信息未填写";var c=n.activityInfo.userInfo.find((function(t){return t.tag_id===e}));if(!c)return"信息未填写";var l={};try{l=c.information_data?JSON.parse(c.information_data):{}}catch(t){console.error("解析表单数据失败:",t),l={}}var d=r.filter((function(t){return t.required&&(!l[t.name]||""===l[t.name].toString().trim())}));return d.length>0?"还有".concat(d.length,"项必填信息未完善"):"信息已完善"},getFormStatusClass:function(t,e){if(!this.hasFilledForm(t,e))return"status-incomplete";var r=this.works.find((function(e){return e.id===t}));if(!r||!r.activityInfo||!r.activityInfo.userInfo)return"status-incomplete";var o=r.activityInfo.userInfo.find((function(t){return t.tag_id===e}));if(!o)return"status-incomplete";var n=r.activityInfo.activities.find((function(t){return t.tag_id===e}));if(!n)return"status-incomplete";var c={};try{c=o.information_data?JSON.parse(o.information_data):{}}catch(t){console.error("解析表单数据失败:",t),c={}}return n.required_fields.filter((function(t){return t.required&&(!c[t.name]||""===c[t.name].toString().trim())})).length>0?"status-incomplete":"status-complete"},getRequiredFieldsByTagId:function(t){var e,r=n(this.works);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o.activityInfo&&o.activityInfo.activities){var c=o.activityInfo.activities.find((function(a){return a.tag_id===t}));if(c)return c.required_fields}}}catch(t){r.e(t)}finally{r.f()}return null},loadActivityData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=n(t.works),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=10;break}return c=o.value,e.next=8,t.loadWorkActivityInfo(c);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(0),console.error("加载活动数据失败:",e.t1);case 23:case"end":return e.stop()}}),e,null,[[0,20],[2,12,15,18]])})))()},loadWorkActivityInfo:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$api.essays.getNovelActivity(t.id);case 3:o=r.sent,e.$set(t,"activityInfo",o),console.log(t),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.error("加载作品 ".concat(t.id," 的活动信息失败:"),r.t0),e.$set(t,"activityInfo",{hasActivity:!1,activities:[]});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},submitActivityInfo:function(t,e,r){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var c,l,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n.$api.essays.submitActivityInfo(t,e,r);case 3:if(200!==(c=o.sent).code){o.next=14;break}if(l="activity_form_".concat(t,"_").concat(e),localStorage.setItem(l,JSON.stringify(r)),!(d=n.works.find((function(e){return e.id===t})))){o.next=11;break}return o.next=11,n.loadWorkActivityInfo(d);case 11:return o.abrupt("return",{success:!0,message:"提交成功"});case 14:return o.abrupt("return",{success:!1,message:c.message||"提交失败"});case 15:o.next=21;break;case 17:return o.prev=17,o.t0=o.catch(0),console.error("提交活动信息失败:",o.t0),o.abrupt("return",{success:!1,message:"网络错误，请重试"});case 21:case"end":return o.stop()}}),o,null,[[0,17]])})))()}}},d=(r(567),r(12)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"write-page"},[t._m(0),t._v(" "),e("div",{staticClass:"write-container"},[e("div",{staticClass:"works-section"},[e("div",{staticClass:"section-header"},[e("h2",{staticClass:"section-title"},[t._v("我的作品")]),t._v(" "),e("button",{staticClass:"new-button",on:{click:t.createNewWork}},[t._v("+ 创建新作品")])]),t._v(" "),e("div",{staticClass:"tabs"},[e("button",{staticClass:"tab-button",class:{active:"all"===t.activeTab},on:{click:function(e){t.activeTab="all"}}},[t._v("全部作品")]),t._v(" "),e("button",{staticClass:"tab-button",class:{active:"ongoing"===t.activeTab},on:{click:function(e){t.activeTab="ongoing"}}},[t._v("连载中")]),t._v(" "),e("button",{staticClass:"tab-button",class:{active:"completed"===t.activeTab},on:{click:function(e){t.activeTab="completed"}}},[t._v("已完结")]),t._v(" "),e("button",{staticClass:"tab-button",class:{active:"draft"===t.activeTab},on:{click:function(e){t.activeTab="draft"}}},[t._v("草稿箱")])]),t._v(" "),e("div",{staticClass:"works-list"},[t.loading?e("div",{staticClass:"loading-state"},[e("div",{staticClass:"loading-spinner"}),t._v(" "),e("p",{staticClass:"loading-text"},[t._v("正在加载作品列表...")])]):t.error?e("div",{staticClass:"error-state"},[e("div",{staticClass:"error-icon"},[t._v("❌")]),t._v(" "),e("h3",{staticClass:"error-title"},[t._v("加载失败")]),t._v(" "),e("p",{staticClass:"error-desc"},[t._v(t._s(t.error))]),t._v(" "),e("button",{staticClass:"error-button",on:{click:t.fetchWorks}},[t._v("重试")])]):t.filteredWorks.length?t._e():e("div",{staticClass:"work-empty"},[e("div",{staticClass:"empty-icon"},[t._v("📝")]),t._v(" "),e("h3",{staticClass:"empty-title"},[t._v(t._s("all"===t.activeTab?"您还没有创建任何作品":"没有符合条件的作品"))]),t._v(" "),"all"===t.activeTab?e("p",{staticClass:"empty-desc"},[t._v('点击"创建新作品"按钮开始您的创作之旅')]):t._e(),t._v(" "),"all"===t.activeTab?e("button",{staticClass:"empty-button",on:{click:t.createNewWork}},[t._v("+ 立即创建")]):t._e()]),t._v(" "),t._l(t.filteredWorks,(function(r){return e("div",{key:r.id,staticClass:"work-item"},[e("div",{staticClass:"work-cover",style:r.picUrl?"background-image: url(".concat(r.picUrl,"); background-size: cover; background-position: center;"):"background-color: ".concat(r.color),on:{error:function(t){r.picUrl=null}}},[e("span",{staticClass:"work-category"},[t._v(t._s(r.category))]),t._v(" "),e("span",{staticClass:"work-status",class:{"status-completed":"已完结"===r.status,"status-draft":"草稿"===r.status}},[t._v(t._s(r.status))])]),t._v(" "),e("div",{staticClass:"work-info"},[e("h3",{staticClass:"work-title"},[t._v(t._s(r.title))]),t._v(" "),e("p",{staticClass:"work-stats"},[e("span",[t._v(t._s(r.status))]),t._v(" "),e("span",[t._v(t._s(r.wordCount)+"字")])]),t._v(" "),e("p",{staticClass:"work-desc"},[t._v(t._s(r.description))]),t._v(" "),e("p",{staticClass:"work-update"},[t._v("最近更新: "+t._s(r.lastUpdate))]),t._v(" "),e("div",{staticClass:"work-actions"},[e("button",{staticClass:"work-action primary",on:{click:function(e){return t.openEditPage(r.id)}}},[t._v("开始写作")]),t._v(" "),e("button",{staticClass:"work-action",on:{click:function(e){return t.$router.push("/write/settings/".concat(r.id))}}},[t._v("编辑信息")])]),t._v(" "),r.activityInfo&&r.activityInfo.hasActivity?e("div",{staticClass:"activity-section"},[e("h4",{staticClass:"activity-section-title"},[t._v("创作活动")]),t._v(" "),e("div",{staticClass:"activity-list"},t._l(r.activityInfo.activities,(function(o){return e("div",{key:o.tag_id,staticClass:"activity-item"},[e("div",{staticClass:"activity-header"},[e("div",{staticClass:"activity-name"},[t._v(t._s(o.activity_name))]),t._v(" "),e("span",{staticClass:"activity-status"},[t._v("活动中")])]),t._v(" "),e("div",{staticClass:"activity-description"},[t._v(t._s(o.activity_description))]),t._v(" "),o.activity_news&&o.activity_news.length>0?e("div",{staticClass:"activity-news"},[e("div",{staticClass:"news-title"},[t._v("活动资讯")]),t._v(" "),e("div",{staticClass:"news-list"},t._l(o.activity_news,(function(r){return e("div",{key:r.title,staticClass:"news-item",on:{click:function(e){return t.openNewsLink(r)}}},[e("div",{staticClass:"news-item-title"},[t._v(t._s(r.title))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})])})),0)]):t._e(),t._v(" "),o.required_fields&&o.required_fields.length>0?e("div",{staticClass:"activity-form"},[e("div",{staticClass:"form-status"},[e("div",{staticClass:"form-title"},[t._v("活动参与信息")]),t._v(" "),e("div",{staticClass:"form-status-text",class:t.getFormStatusClass(r.id,o.tag_id)},[t._v("\n                        "+t._s(t.getFormStatusText(r.id,o.tag_id,o.required_fields))+"\n                      ")])]),t._v(" "),e("button",{staticClass:"form-button",on:{click:function(e){return t.openActivityForm(r.id,o)}}},[t._v("\n                      "+t._s(t.hasFilledForm(r.id,o.tag_id)?"修改信息":"填写信息")+"\n                    ")])]):t._e()])})),0)]):t._e()])])}))],2)]),t._v(" "),e("div",{staticClass:"sidebar"},[e("div",{staticClass:"sidebar-section"},[e("h3",{staticClass:"sidebar-title"},[t._v("创作数据")]),t._v(" "),e("div",{staticClass:"stats-grid"},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.totalWorks))]),t._v(" "),e("div",{staticClass:"stat-label"},[t._v("作品总数")])]),t._v(" "),e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.stats.totalWords))]),t._v(" "),e("div",{staticClass:"stat-label"},[t._v("总字数")])])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"page-header"},[t("h1",{staticClass:"page-title"},[this._v("创作中心")])])}],!1,null,null,null);e.default=component.exports}}]);
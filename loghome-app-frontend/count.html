<html lang="zh-CN">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport"
			content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<title>
			<%= htmlWebpackPlugin.options.title %>
		</title>
		<link rel="stylesheet" href="<%= BASE_URL %>static/index.css" />
		<link rel="icon" href="./static/favicon.ico" />
		<link rel="preconnect" href="https://fonts.proxy.ustclug.org">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:100,300,400,500,700,900">
		<meta name="description" content="原木社区是专为Minecraft及其衍生文化爱好者搭建的文艺作品读写一体化平台，你可以在这里自由地创作与Minecraft相关的文艺内容，也可以在这些作品中徜徉，感受方块世界的美好。"/>
	</head>

	<style>
		div.loading {
			height: 100vh;
			overflow: hidden;
		}

		div.loading img {
			width: 100vw;
		}
		
		#global-loading-box{
			position: fixed;
			top: 50vh;
			left: 50vw;
			opacity: 0;
			transform: translate(-50%, -50%) scale(0);
			z-index: 20000;
			background-color: #333333aa;
			transition: all .3s;
		}

		#global-loading-box img{
			width: 100%;
			height: 100%;
			object-fit: contain;
			transform: scale(0.95)
		}

		/* 弹窗海报样式 */
		#popup-poster-box {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background-color: rgba(0, 0, 0, 0.7);
			z-index: 30000;
			display: none;
			justify-content: center;
			align-items: center;
			opacity: 0;
			transition: opacity 0.3s;
		}

		#popup-poster-box.show {
			display: flex;
			opacity: 1;
		}

		#popup-poster-box .poster-content {
			position: relative;
			width: 80vw;
			max-width: 400px;
			max-height: 80vh;
		}

		#popup-poster-box .poster-img {
			width: 100%;
			height: auto;
			border-radius: 10px;
			display: block;
		}

		#popup-poster-box .close-btn {
			position: absolute;
			bottom: -40px;
			left: 50%;
			transform: translateX(-50%);
			width: 30px;
			height: 30px;
			border: 2px solid white;
			border-radius: 50%;
			color: white;
			font-size: 20px;
			text-align: center;
			line-height: 26px;
			cursor: pointer;
			background-color: rgba(0,0,0,0.3);
		}

	</style>

	<body>
		<noscript>
			<strong>Please enable JavaScript to continue.</strong>
			<strong>Beta 1.3.1</strong>
		</noscript>
		<div class="loading" style="z-index: 114514;">
<!-- 			<log-image src="https://img.codesocean.top/image/1655861323878" alt="" id="startPage"> -->
		</div>
		<div id="app"></div>
		<div id="global-loading-box">
			<img src="./static/loading.gif" alt="">
			<div class="title">
				努力加载中
			</div>
		</div>
		<!-- 弹窗海报容器 -->
		<div id="popup-poster-box">
			<div class="poster-content">
				<img src="" alt="Popup Poster" class="poster-img">
				<div class="close-btn">×</div>
			</div>
		</div>
	</body>

	<script>
		let app = document.querySelector("uni-app");
		let loading = document.querySelector(".loading");
		app.style.opacity = "0";
		app.style.position = "absolute";
		loading.style.position = "absolute";
		app.style.transition = "all .8s";
		loading.style.transition = "all .8s";
		setTimeout(() => {
			app.style.opacity = "1";
			loading.style.display = "none";
			app.style.overflow = "scroll";
		}, 0)
		
		// if (env != null) {
		// 	console.log("app");
		// 	app.style.opacity = "0";
		// 	app.style.display = "none";
		// 	var timer = setInterval(() => {
		// 		app.style.transition = "all .8s";
		// 		loading.style.transition = "all .8s";
		// 		// 判断文档和所有子资源(图片、音视频等)已完成加载
		// 		if (document.readyState === 'complete') {
		// 			app.style.display = "";
		// 			app.style.overflow = "hidden";
		// 			//执行方法
		// 			setTimeout(() => {
		// 				app.style.opacity = "1";
		// 				loading.style.opacity = "0";
		// 				app.style.overflow = "scroll";
		// 			}, 1000)
		// 			window.clearInterval(timer);
		// 		}
		// 	}, 1000)
		// } else {
		// 	app.style.opacity = "1";
		// 	loading.style.opacity = "0";
		// 	app.style.overflow = "scroll";
		// }
		
		
	</script>

	<script src="./common/quill.min.js"></script>

</html>
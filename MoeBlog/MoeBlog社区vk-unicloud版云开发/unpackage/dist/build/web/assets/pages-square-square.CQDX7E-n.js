import{h as a,k as s,a as e,w as l,o as t,b as u,d as r,p as n,q as o,F as c,i as d,t as i,u as f,m as _,e as m,f as p}from"./index-BcbBmaH1.js";import{_ as g}from"./z-paging.DJjrhKoD.js";import{o as q,c as v,a as k,b as j,r as I}from"./uni-app.es.CDgP4_Nc.js";import{_ as y}from"./square.DS5UtVkO.js";import{d as C}from"./api.D6LgEBnm.js";import{a as h,u as b}from"./utils.qqFolnPJ.js";import{_ as z}from"./_plugin-vue_export-helper.BCo6x5W8.js";const F=z({__name:"square",setup(z){q((()=>{})),v((()=>{})),k((a=>{})),j((a=>{}));const F=a([]);a(!1);const L=a(null);function x(a,s){let e={pageNo:a,pageSize:s};console.log(e),C(e).then((a=>{L.value.complete(a.result.rows)}))}return(a,q)=>{const v=d,k=m,j=p,C=I(s("z-paging"),g);return t(),e(C,{ref_key:"paging",ref:L,modelValue:F.value,"onUpdate:modelValue":q[0]||(q[0]=a=>F.value=a),onQuery:x},{default:l((()=>[u(v,{class:"square"},{default:l((()=>[u(v,{class:"name"},{default:l((()=>[r("圈子文章")])),_:1}),u(v,{class:"square-C"},{default:l((()=>[(t(!0),n(c,null,o(F.value,(a=>(t(),e(v,{class:"square-I mgt25 bdr15",key:a._id},{default:l((()=>[u(v,{class:"square-info",onClick:s=>function(a){if(""===a)return 0;vk.navigateTo("/pages/square/squareInfo?id="+a)}(a._id)},{default:l((()=>[u(v,{class:"square-info-L"},{default:l((()=>[u(v,{class:"square-name"},{default:l((()=>[u(k,{src:y}),u(j,null,{default:l((()=>[r(i(a.name),1)])),_:2},1024)])),_:2},1024),u(v,{class:"square-desc"},{default:l((()=>[u(j,null,{default:l((()=>[r(i(a.count||0)+"动态",1)])),_:2},1024),r(),u(j,null,{default:l((()=>[r(i(a.fans_count||0)+"用户",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(v,{class:"square-info-R"},{default:l((()=>[u(k,{mode:"aspectFill",src:a.avatarUrl},null,8,["src"])])),_:2},1024)])),_:2},1032,["onClick"]),0!=a.artList.length?(t(),e(v,{key:0,class:"square-art"},{default:l((()=>[(t(!0),n(c,null,o(a.artList,(a=>(t(),e(v,{class:"square-art-I",onClick:s=>{return e=a._id,void vk.navigateTo("/pages/art/art?id="+e);var e}},{default:l((()=>[u(v,{class:"square-art-L"},{default:l((()=>[u(v,{class:"userinfo"},{default:l((()=>[u(k,{src:f(h)(a.userinfo),mode:"aspectFill"},null,8,["src"]),u(j,null,{default:l((()=>[r(i(f(b)(a.userinfo)),1)])),_:2},1024)])),_:2},1024),u(v,{class:"title"},{default:l((()=>[r(i(a.title),1)])),_:2},1024),u(v,{class:"content"},{default:l((()=>[r(i(a.content),1)])),_:2},1024),u(v,{class:"btm"},{default:l((()=>[u(j,null,{default:l((()=>[r("发布于 "+i(a._add_time_str.slice(0,10)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),0!=a.coverImg.length?(t(),e(v,{key:0,class:"square-art-R"},{default:l((()=>[u(k,{src:a.coverImg[0],mode:"aspectFill"},null,8,["src"])])),_:2},1024)):_("",!0)])),_:2},1032,["onClick"])))),256))])),_:2},1024)):_("",!0)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},[["__scopeId","data-v-5a751adc"]]);export{F as default};

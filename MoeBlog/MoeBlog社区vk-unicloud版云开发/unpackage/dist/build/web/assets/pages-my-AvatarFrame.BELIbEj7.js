import{p as a,q as s,d as e,a as t,w as r,i as l,o,b as u,h as i,j as n,F as c,H as m,e as f,l as p}from"./index-C69BgsYY.js";import{_ as v}from"./avatar-item.Cq-RVIM4.js";import{r as d}from"./uni-app.es.4Bntlf4B.js";import{_}from"./u-tag.Dl-Gh5KS.js";import{f as C}from"./utils.qqFolnPJ.js";import{u as g}from"./api.ClmPzCnk.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-icon.yGbbo8IR.js";const j=h({__name:"AvatarFrame",setup(h){const j=a([]),k=a(C(vk.getVuex("$user.userInfo")));function x(){let a={frame:k.value};g(a).then((a=>{0==a.code&&(m({title:"修改头像框成功",icon:"none"}),vk.setVuex("$user.userInfo.frame",k.value),setTimeout((()=>{vk.reLaunch("/pages/my/userCenter")}),1500)),console.log(a)}))}return s((()=>{!function(){for(let a=1;a<=28;a++){let s=`https://img.dashi109.top/avatar/${a}.png`;j.value.push(s)}}()})),(a,s)=>{const m=d(e("avatar-item"),v),C=d(e("u-tag"),_),g=l,h=p;return o(),t(g,{class:"avatar"},{default:r((()=>[u(g,{class:"avatar-C"},{default:r((()=>[u(g,{class:"avatar-C-H"},{default:r((()=>[u(m,{height:280,width:280,frame:String(k.value)},null,8,["frame"]),u(g,{class:"avatar-C-H-B"},{default:r((()=>[u(C,{text:"保存",onClick:x})])),_:1})])),_:1}),u(g,{class:"avatar-C-C"},{default:r((()=>[(o(!0),i(c,null,n(j.value,((a,s)=>(o(),t(g,{class:f(["avatar-C-C-I",s+1==k.value?"active":""]),key:s},{default:r((()=>[u(h,{onClick:a=>function(a){k.value=a}(s+1),mode:"aspectFill",src:a},null,8,["onClick","src"])])),_:2},1032,["class"])))),128))])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-84786ca6"]]);export{j as default};

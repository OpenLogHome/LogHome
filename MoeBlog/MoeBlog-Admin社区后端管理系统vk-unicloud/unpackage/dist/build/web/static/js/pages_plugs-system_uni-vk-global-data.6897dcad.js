(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_plugs-system_uni-vk-global-data"],{"033a":function(e,t,o){"use strict";o.r(t);var a=o("7c6a"),n=o("b8a9");for(var r in n)["default"].indexOf(r)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(r);var i=o("828b"),l=Object(i["a"])(n["default"],a["b"],a["c"],!1,null,"35970f68",null,!1,a["a"],void 0);t["default"]=l.exports},"7c6a":function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{staticClass:"page-body"},[o("vk-data-table-query",{attrs:{columns:e.queryForm1.columns},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.queryForm1.formData,callback:function(t){e.$set(e.queryForm1,"formData",t)},expression:"queryForm1.formData"}},[o("template",{slot:"right-btns"},[o("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addBtn.apply(void 0,arguments)}}},[e._v("添加")])],1)],2),o("vk-data-table",{ref:"table1",attrs:{action:e.table1.action,columns:e.table1.columns,"query-form-param":e.queryForm1,"right-btns":["detail_auto","update","delete"],"row-no":!0,pagination:!0},on:{update:function(t){arguments[0]=t=e.$handleEvent(t),e.updateBtn.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteBtn.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.currentChange.apply(void 0,arguments)},"selection-change":function(t){arguments[0]=t=e.$handleEvent(t),e.selectionChange.apply(void 0,arguments)}}}),o("vk-data-dialog",{attrs:{title:e.form1.props.title,width:"800px",mode:"form"},model:{value:e.form1.props.show,callback:function(t){e.$set(e.form1.props,"show",t)},expression:"form1.props.show"}},[o("vk-data-form",{ref:"form1",attrs:{rules:e.form1.props.rules,action:e.form1.props.action,"form-type":e.form1.props.formType,columns:e.form1.props.columns,"label-width":"80px"},on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.form1.props.show=!1,e.refresh()}},model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)],1)},n=[]},b8a9:function(e,t,o){"use strict";o.r(t);var a=o("b930"),n=o.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},b930:function(e,t,o){"use strict";var a;o("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=uni.vk,r={},i={data:function(){return{loading:!1,data:{},table1:{action:"admin/system_uni/global-data/sys/getList",columns:[{key:"key",title:"键名",type:"text",width:200},{key:"value",title:"键值",type:"json",width:200},{key:"_add_time",title:"添加时间",type:"time",width:160},{key:"_add_time",title:"距离现在",type:"dateDiff",width:120},{key:"expired_at",title:"过期时间",type:"time",width:160,defaultValue:"无"},{key:"comment",title:"备注",type:"text",width:300}],multipleSelection:[],selectItem:""},queryForm1:{formData:{},columns:[{key:"key",type:"text",title:"键名搜索",mode:"%%"},{key:"value",type:"text",title:"键值搜索",mode:"%%"},{key:"_add_time",type:"datetimerange",title:"添加时间",width:400,mode:"[]"}]},form1:{data:{},props:{action:"",columns:[{key:"key",title:"键名",type:"text",placeholder:"请输入键名",disabled:["update"],tips:"键名唯一，且不能修改"},{key:"value",title:"键值",type:"json",placeholder:"请输入键值"},{key:"expired_at",title:"过期时间",type:"date",dateType:"datetime",placeholder:"请选择过期时间",tips:"若不设置过期时间则代表永不过期"},{key:"comment",title:"备注",type:"textarea",placeholder:"请输入备注"}],rules:{key:[{required:!0,message:"键名不能为空",trigger:"blur"}],value:[{required:!0,message:"键值不能为空",trigger:"change"}]},formType:"",show:!1}}}},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a=this,n=a.vk,a.options=e,a.init(e)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{init:function(e){r["form1"]=n.pubfn.copyObject(a.form1)},pageTo:function(e){n.navigateTo(e)},resetForm:function(){n.pubfn.resetForm(r,a)},search:function(e){a.$refs.table1.query(e)},refresh:function(){a.$refs.table1.refresh()},getCurrentRow:function(){return a.$refs.table1.getCurrentRow()},currentChange:function(e){a.table1.selectItem=e},selectionChange:function(e){a.table1.multipleSelection=e},addBtn:function(){a.resetForm(),a.form1.props.action="admin/system_uni/global-data/sys/add",a.form1.props.formType="add",a.form1.props.title="添加",a.form1.props.show=!0},updateBtn:function(e){var t=e.item;a.form1.props.action="admin/system_uni/global-data/sys/update",a.form1.props.formType="update",a.form1.props.title="编辑",a.form1.props.show=!0,a.form1.data=t},deleteBtn:function(e){var t=e.item,o=e.deleteFn;o({action:"admin/system_uni/global-data/sys/delete",data:{_id:t._id}})}},watch:{},filters:{},computed:{}};t.default=i}}]);
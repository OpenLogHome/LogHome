(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-taxonomy"],{"0aab":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page-body"},[a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addBtn.apply(void 0,arguments)}}},[t._v("添加")]),a("vk-data-dialog",{attrs:{title:"表单标题",width:"600px",mode:"form"},model:{value:t.taxForm.props.show,callback:function(e){t.$set(t.taxForm.props,"show",e)},expression:"taxForm.props.show"}},[a("vk-data-form",{ref:"taxForm",attrs:{rules:t.taxForm.props.rules,action:t.taxForm.props.action,"form-type":t.taxForm.props.formType,columns:t.taxForm.props.columns,loading:t.taxForm.props.loading,"label-width":100,width:"100%","label-position":"left",size:"medium",disabled:!1},on:{"update:loading":function(e){arguments[0]=e=t.$handleEvent(e),t.$set(t.taxForm.props,"loading",e)},success:function(e){arguments[0]=e=t.$handleEvent(e),t.formSuccess.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.onCancel.apply(void 0,arguments)}},model:{value:t.taxForm.data,callback:function(e){t.$set(t.taxForm,"data",e)},expression:"taxForm.data"}})],1),a("vk-data-table",{ref:"table",attrs:{data:t.taxTable.data,columns:t.taxTable.columns,action:t.taxTable.action,"right-btns":["detail_auto","update","delete"]},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.tableSc.apply(void 0,arguments)},update:function(e){arguments[0]=e=t.$handleEvent(e),t.tableUp.apply(void 0,arguments)},delete:function(e){arguments[0]=e=t.$handleEvent(e),t.tableDel.apply(void 0,arguments)}}})],1)},n=[]},"12a8":function(t,e,a){"use strict";a.r(e);var o=a("0aab"),n=a("c8d1");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);var s=a("828b"),l=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"563a8cda",null,!1,o["a"],void 0);e["default"]=l.exports},b1ca:function(t,e,a){"use strict";var o;a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;uni.vk;var n={data:function(){return{taxForm:{data:{sort:0,status:!0},props:{action:"",columns:[{key:"name",title:"分类名称",type:"text",placeholder:"请输入首页展示的分类名称",clearable:!0,showLabel:!0},{key:"taxonomy_id",title:"选择分类",type:"remote-select",placeholder:"请选择选择分类",action:"admin/index/sys/index_taxonomy.getTax",clearable:!0,showLabel:!0,showAll:!0,props:{list:"result",value:"_id",label:"name"}},{key:"sort",title:"排序",type:"text",placeholder:"请输入排序",clearable:!0,showLabel:!0,prepend:"值越大越靠前"},{key:"status",title:"是否启用",type:"switch",showLabel:!0,activeValue:!0}],rules:{name:[{required:!0,message:"分类名称不能为空",trigger:"change"}],taxonomy_id:[{required:!0,message:"选择分类不能为空",trigger:"change"}]},formType:"",show:!1,loading:!1}},taxTable:{data:[],columns:[{key:"name",title:"显示名字",type:"text",minWidth:200},{key:"taxonomyName.name",title:"绑定分类",type:"text",minWidth:200},{key:"sort",title:"排序",type:"text",minWidth:200},{key:"status",title:"是否启用",type:"switch",minWidth:200}],action:"admin/index/sys/index_taxonomy.getList"}}},onLoad:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=this,o.vk,o.options=t,o.init(t)},created:function(){},mounted:function(){},methods:{init:function(t){},formSuccess:function(){console.log("表单提交了"),this.taxForm.props.show=!1,this.refresh()},onCancel:function(){console.log("关闭了"),this.taxForm.props.show=!1,this.taxForm.data={sort:0,status:!0}},addBtn:function(){this.taxForm.props.show=!0,this.taxForm.props.action="admin/index/sys/index_taxonomy.addList"},tableSc:function(t){this.taxTable.data=t.data.result,console.log(t)},tableUp:function(t){this.taxForm.data=t.item,delete this.taxForm.data.taxonomyName,delete this.taxForm.data.pl_table_level,this.taxForm.props.show=!0,this.taxForm.props.action="admin/index/sys/index_taxonomy.upList"},tableDel:function(t){var e=t.item,a=t.deleteFn;console.log(e._id),a({action:"admin/index/sys/index_taxonomy.delList",data:{id:e._id}}),this.refresh()},refresh:function(){this.$refs.table.refresh()}},watch:{},filters:{},computed:{}};e.default=n},c8d1:function(t,e,a){"use strict";a.r(e);var o=a("b1ca"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a}}]);